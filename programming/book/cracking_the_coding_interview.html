<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Cracking the Coding Interview</title>
<!-- 2017-06-21 Wed 08:55 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="../../styles/readtheorg/css/font.css"/>
<link rel="stylesheet" type="text/css" href="../../styles/readtheorg/css/readtheorg.css"/>
<link rel="stylesheet" type="text/css" href="../../styles/readtheorg/css/htmlize.css"/>
<script type="text/javascript" src="../../styles/readtheorg/js/jquery.min.js"></script>
<script type="text/javascript" src="../../styles/readtheorg/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../styles/readtheorg/js/readtheorg.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/javascript" src="http://orgmode.org/mathjax/MathJax.js"></script>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
    MathJax.Hub.Config({
        // Only one of the two following lines, depending on user settings
        // First allows browser-native MathML display, second forces HTML/CSS
        //  config: ["MMLorHTML.js"], jax: ["input/TeX"],
            jax: ["input/TeX", "output/HTML-CSS"],
        extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js",
                     "TeX/noUndefined.js"],
        tex2jax: {
            inlineMath: [ ['$', '$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"], ["\\begin{displaymath}","\\end{displaymath}"] ],
            skipTags: ["script","noscript","style","textarea","pre","code"],
            ignoreClass: "tex2jax_ignore",
            processEscapes: false,
            processEnvironments: true,
            preview: "TeX"
        },
        showProcessingMessages: true,
        displayAlign: "center",
        displayIndent: "2em",

        "HTML-CSS": {
             scale: 100,
             availableFonts: ["STIX","TeX"],
             preferredFont: "TeX",
             webFont: "TeX",
             imageFont: "TeX",
             showMathMenu: true,
        },
        MMLorHTML: {
             prefer: {
                 MSIE:    "MML",
                 Firefox: "MML",
                 Opera:   "HTML",
                 other:   "HTML"
             }
        }
    });
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Cracking the Coding Interview</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. The Interview Process</a></li>
<li><a href="#sec-2">2. Behind the Scenes</a>
<ul>
<li><a href="#sec-2-1">2.1. The Microsoft Interview</a></li>
<li><a href="#sec-2-2">2.2. The Amazon Interview</a></li>
<li><a href="#sec-2-3">2.3. The Google Interview</a></li>
<li><a href="#sec-2-4">2.4. The Facebook Interview</a></li>
<li><a href="#sec-2-5">2.5. The Palantir Interview</a></li>
</ul>
</li>
<li><a href="#sec-3">3. Special Situations</a>
<ul>
<li><a href="#sec-3-1">3.1. Startups</a></li>
<li><a href="#sec-3-2">3.2. Acquisitions and Acquihires</a></li>
<li><a href="#sec-3-3">3.3. For Interviewers</a></li>
</ul>
</li>
<li><a href="#sec-4">4. Before the Interview</a>
<ul>
<li><a href="#sec-4-1">4.1. Writing a Great Resume</a></li>
</ul>
</li>
<li><a href="#sec-5">5. Behavioral Questions</a>
<ul>
<li><a href="#sec-5-1">5.1. Interview Preparation Grid</a>
<ul>
<li><a href="#sec-5-1-1">5.1.1. What questions should you ask the interviewer?</a></li>
</ul>
</li>
<li><a href="#sec-5-2">5.2. Know Your Technical Projects</a></li>
<li><a href="#sec-5-3">5.3. Responding to Behavioral Questions</a></li>
<li><a href="#sec-5-4">5.4. So, tell me about yourself &#x2026;</a></li>
</ul>
</li>
<li><a href="#sec-6">6. Big O</a>
<ul>
<li><a href="#sec-6-1">6.1. An Analogy</a></li>
<li><a href="#sec-6-2">6.2. Time Complexity</a></li>
<li><a href="#sec-6-3">6.3. Space Complexity</a></li>
<li><a href="#sec-6-4">6.4. Drop the Constants</a></li>
<li><a href="#sec-6-5">6.5. Amortized Time</a></li>
<li><a href="#sec-6-6">6.6. Recursive Runtimes</a></li>
<li><a href="#sec-6-7">6.7. Examples and Exercises</a>
<ul>
<li><a href="#sec-6-7-1">6.7.1. Example 8</a></li>
<li><a href="#sec-6-7-2">6.7.2. Example 12</a></li>
<li><a href="#sec-6-7-3">6.7.3. Example 13</a></li>
<li><a href="#sec-6-7-4">6.7.4. Example 15</a></li>
<li><a href="#sec-6-7-5">6.7.5. Example 16</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-7">7. Technical Questions</a>
<ul>
<li><a href="#sec-7-1">7.1. Power of 2 Table</a></li>
<li><a href="#sec-7-2">7.2. Walking Through a Problem</a>
<ul>
<li><a href="#sec-7-2-1">7.2.1. Listen</a></li>
<li><a href="#sec-7-2-2">7.2.2. Example</a></li>
<li><a href="#sec-7-2-3">7.2.3. Brute Force</a></li>
<li><a href="#sec-7-2-4">7.2.4. Optimize</a></li>
<li><a href="#sec-7-2-5">7.2.5. Walk Through</a></li>
<li><a href="#sec-7-2-6">7.2.6. Implement</a></li>
<li><a href="#sec-7-2-7">7.2.7. Test</a></li>
</ul>
</li>
<li><a href="#sec-7-3">7.3. Look for BUD</a>
<ul>
<li><a href="#sec-7-3-1">7.3.1. Bottlenecks</a></li>
<li><a href="#sec-7-3-2">7.3.2. Unnecessary Work</a></li>
</ul>
</li>
<li><a href="#sec-7-4">7.4. DIY (Do It Yourself)</a></li>
<li><a href="#sec-7-5">7.5. Base Case and Build</a></li>
<li><a href="#sec-7-6">7.6. Data Structure Brainstorm</a></li>
<li><a href="#sec-7-7">7.7. Best Conceivable Runtime (BCR)</a></li>
<li><a href="#sec-7-8">7.8. Handling Incorrect Answers</a></li>
<li><a href="#sec-7-9">7.9. The "Perfect" Language for Interviews</a></li>
<li><a href="#sec-7-10">7.10. What Good Coding Looks Like</a>
<ul>
<li><a href="#sec-7-10-1">7.10.1. Appropriate Code Reuse</a></li>
<li><a href="#sec-7-10-2">7.10.2. Modular</a></li>
<li><a href="#sec-7-10-3">7.10.3. Flexible and Robust</a></li>
<li><a href="#sec-7-10-4">7.10.4. Error Checking</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-8">8. The Offer and Beyond</a>
<ul>
<li><a href="#sec-8-1">8.1. Handling Offers and Rejection</a></li>
<li><a href="#sec-8-2">8.2. Evaluating the Offer</a></li>
<li><a href="#sec-8-3">8.3. Negotiation</a></li>
<li><a href="#sec-8-4">8.4. On the Job</a></li>
</ul>
</li>
<li><a href="#sec-9">9. Arrays and Strings</a>
<ul>
<li><a href="#sec-9-1">9.1. Hash Tables</a></li>
<li><a href="#sec-9-2">9.2. <code>ArrayList</code> &amp; Resizable Arrays</a></li>
<li><a href="#sec-9-3">9.3. <code>StringBuilder</code></a></li>
<li><a href="#sec-9-4">9.4. Question: Is Unique</a>
<ul>
<li><a href="#sec-9-4-1">9.4.1. Time</a></li>
<li><a href="#sec-9-4-2">9.4.2. Space</a></li>
</ul>
</li>
<li><a href="#sec-9-5">9.5. Question: Check Permutation</a></li>
<li><a href="#sec-9-6">9.6. Question: Palindrome Permutation</a></li>
<li><a href="#sec-9-7">9.7. Question: Zero Matrix</a>
<ul>
<li><a href="#sec-9-7-1">9.7.1. Space</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-10">10. Linked Lists</a>
<ul>
<li><a href="#sec-10-1">10.1. The "Runner" Technique</a></li>
<li><a href="#sec-10-2">10.2. Recursive Problems</a></li>
<li><a href="#sec-10-3">10.3. Question: Delete Middle Node</a></li>
<li><a href="#sec-10-4">10.4. Question: Partition</a></li>
<li><a href="#sec-10-5">10.5. Question: Palindrome</a>
<ul>
<li><a href="#sec-10-5-1">10.5.1. Reverse</a></li>
<li><a href="#sec-10-5-2">10.5.2. Iterative</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-11">11. Stacks and Queues</a>
<ul>
<li><a href="#sec-11-1">11.1. Implementing a Stack</a></li>
<li><a href="#sec-11-2">11.2. Implementing a Queue</a></li>
<li><a href="#sec-11-3">11.3. Question: Stack Min</a></li>
<li><a href="#sec-11-4">11.4. Question: Queue via Stack</a></li>
<li><a href="#sec-11-5">11.5. Question: Animal Shelter</a></li>
</ul>
</li>
<li><a href="#sec-12">12. Trees and Graphs</a>
<ul>
<li><a href="#sec-12-1">12.1. Type of Trees</a>
<ul>
<li><a href="#sec-12-1-1">12.1.1. Binary Search Tree</a></li>
<li><a href="#sec-12-1-2">12.1.2. Balanced Tree</a></li>
<li><a href="#sec-12-1-3">12.1.3. Complete Binary Tree</a></li>
<li><a href="#sec-12-1-4">12.1.4. Full Binary Tree</a></li>
<li><a href="#sec-12-1-5">12.1.5. Perfect Binary Trees</a></li>
</ul>
</li>
<li><a href="#sec-12-2">12.2. Binary Tree Traversal</a></li>
<li><a href="#sec-12-3">12.3. Binary Heaps</a>
<ul>
<li><a href="#sec-12-3-1">12.3.1. <code>insert</code></a></li>
<li><a href="#sec-12-3-2">12.3.2. <code>extract</code></a></li>
</ul>
</li>
<li><a href="#sec-12-4">12.4. Tries</a></li>
<li><a href="#sec-12-5">12.5. Graphs</a>
<ul>
<li><a href="#sec-12-5-1">12.5.1. Adjacency List</a></li>
<li><a href="#sec-12-5-2">12.5.2. Adjacency Matrix</a></li>
</ul>
</li>
<li><a href="#sec-12-6">12.6. Graph Search</a>
<ul>
<li><a href="#sec-12-6-1">12.6.1. DFS</a></li>
<li><a href="#sec-12-6-2">12.6.2. BFS</a></li>
<li><a href="#sec-12-6-3">12.6.3. Bidirectional Search</a></li>
</ul>
</li>
<li><a href="#sec-12-7">12.7. Question: Check Balanced</a></li>
<li><a href="#sec-12-8">12.8. Question: Validate BST</a>
<ul>
<li><a href="#sec-12-8-1">12.8.1. Solution: In-Order Traversal</a></li>
</ul>
</li>
<li><a href="#sec-12-9">12.9. Question: Build Order (Incomplete)</a></li>
<li><a href="#sec-12-10">12.10. Question: First Common Ancestor (Incomplete)</a></li>
<li><a href="#sec-12-11">12.11. Question: BST Sequences (Incomplete)</a></li>
<li><a href="#sec-12-12">12.12. Question: Check Subtree (Incomplete)</a></li>
<li><a href="#sec-12-13">12.13. Question: Random Node (Incomplete)</a></li>
<li><a href="#sec-12-14">12.14. Question: Paths with Sum (Incomplete)</a></li>
</ul>
</li>
<li><a href="#sec-13">13. Bit Manipulation</a>
<ul>
<li><a href="#sec-13-1">13.1. Bit Facts and Tricks</a></li>
<li><a href="#sec-13-2">13.2. Two's Complement and Negative Numbers</a></li>
<li><a href="#sec-13-3">13.3. Arithmetic vs. Logical Right Shift</a></li>
<li><a href="#sec-13-4">13.4. Common Bit Tasks</a></li>
<li><a href="#sec-13-5">13.5. Question: Binary to String</a></li>
<li><a href="#sec-13-6">13.6. Question: Flip Bit to Win (Incomplete)</a></li>
<li><a href="#sec-13-7">13.7. Question: Next Number (Incomplete)</a></li>
<li><a href="#sec-13-8">13.8. Question: Conversion</a></li>
<li><a href="#sec-13-9">13.9. Question: Pairwise Swap</a></li>
<li><a href="#sec-13-10">13.10. Question: Draw Line (Incomplete)</a></li>
</ul>
</li>
<li><a href="#sec-14">14. Math and Logic Puzzles</a>
<ul>
<li><a href="#sec-14-1">14.1. Prime Numbers</a>
<ul>
<li><a href="#sec-14-1-1">14.1.1. Divisibility</a></li>
<li><a href="#sec-14-1-2">14.1.2. Generating a List of Primes: The Sieve of Eratosthenes</a></li>
</ul>
</li>
<li><a href="#sec-14-2">14.2. Probability</a>
<ul>
<li><a href="#sec-14-2-1">14.2.1. Independence</a></li>
<li><a href="#sec-14-2-2">14.2.2. Mutual Exclusivity</a></li>
</ul>
</li>
<li><a href="#sec-14-3">14.3. Question: The Egg Drop Problem (Incomplete)</a></li>
<li><a href="#sec-14-4">14.4. Question: 100 Lockers</a></li>
</ul>
</li>
<li><a href="#sec-15">15. Object-Oriented Design (Incomplete)</a>
<ul>
<li><a href="#sec-15-1">15.1. How to Approach</a></li>
<li><a href="#sec-15-2">15.2. Design Patterns</a></li>
</ul>
</li>
<li><a href="#sec-16">16. Recursion and Dynamic Programming</a>
<ul>
<li><a href="#sec-16-1">16.1. How to Approach</a>
<ul>
<li><a href="#sec-16-1-1">16.1.1. Bottom-Up Approach</a></li>
<li><a href="#sec-16-1-2">16.1.2. Top-Down Approach</a></li>
</ul>
</li>
<li><a href="#sec-16-2">16.2. Recursive vs. Iterative Solutions</a></li>
<li><a href="#sec-16-3">16.3. Dynamic Programming &amp; Memoization</a>
<ul>
<li><a href="#sec-16-3-1">16.3.1. Example: Fibonacci Numbers</a></li>
</ul>
</li>
<li><a href="#sec-16-4">16.4. Question: Recursive Multiply</a></li>
<li><a href="#sec-16-5">16.5. Question: Permutations without Dups</a>
<ul>
<li><a href="#sec-16-5-1">16.5.1. Solution 1</a></li>
<li><a href="#sec-16-5-2">16.5.2. Solution 2</a></li>
</ul>
</li>
<li><a href="#sec-16-6">16.6. Question: Permutations with Duplicates (Incomplete)</a></li>
<li><a href="#sec-16-7">16.7. Question: Paren</a>
<ul>
<li><a href="#sec-16-7-1">16.7.1. Solution 1</a></li>
<li><a href="#sec-16-7-2">16.7.2. Solution 2</a></li>
</ul>
</li>
<li><a href="#sec-16-8">16.8. Question: Coins</a></li>
<li><a href="#sec-16-9">16.9. Question: Stack of Boxes (Incomplete)</a>
<ul>
<li><a href="#sec-16-9-1">16.9.1. Solution 1</a></li>
</ul>
</li>
<li><a href="#sec-16-10">16.10. Question: Boolean Evaluation (Incomplete)</a></li>
</ul>
</li>
<li><a href="#sec-17">17. System Design and Scalability (Incomplete)</a>
<ul>
<li><a href="#sec-17-1">17.1. Handling the Questions</a></li>
<li><a href="#sec-17-2">17.2. Design</a></li>
<li><a href="#sec-17-3">17.3. Algorithms that Scale</a></li>
<li><a href="#sec-17-4">17.4. Key Concepts</a>
<ul>
<li><a href="#sec-17-4-1">17.4.1. Horizontal vs. Vertical Scaling</a></li>
<li><a href="#sec-17-4-2">17.4.2. Load Balancer</a></li>
<li><a href="#sec-17-4-3">17.4.3. Database Denormalization and NoSQL</a></li>
<li><a href="#sec-17-4-4">17.4.4. Database Partitioning (Sharding)</a></li>
<li><a href="#sec-17-4-5">17.4.5. Caching</a></li>
<li><a href="#sec-17-4-6">17.4.6. Asynchronous Processing &amp; Queues</a></li>
<li><a href="#sec-17-4-7">17.4.7. Networking Metrics</a></li>
<li><a href="#sec-17-4-8">17.4.8. MapReduce</a></li>
</ul>
</li>
<li><a href="#sec-17-5">17.5. Considerations</a></li>
<li><a href="#sec-17-6">17.6. Example: Search Keywords in Documents</a></li>
</ul>
</li>
<li><a href="#sec-18">18. Sorting and Searching</a>
<ul>
<li><a href="#sec-18-1">18.1. Question: Sorted Merge</a>
<ul>
<li><a href="#sec-18-1-1">18.1.1. Solution 1</a></li>
<li><a href="#sec-18-1-2">18.1.2. Solution 2</a></li>
</ul>
</li>
<li><a href="#sec-18-2">18.2. Question: Group Anagrams</a>
<ul>
<li><a href="#sec-18-2-1">18.2.1. Solution 1</a></li>
<li><a href="#sec-18-2-2">18.2.2. Solution 2</a></li>
</ul>
</li>
<li><a href="#sec-18-3">18.3. Question: Search in Rotated Array</a>
<ul>
<li><a href="#sec-18-3-1">18.3.1. Solution 1</a></li>
<li><a href="#sec-18-3-2">18.3.2. Solution 2</a></li>
</ul>
</li>
<li><a href="#sec-18-4">18.4. Question: Sorted Matrix Search</a>
<ul>
<li><a href="#sec-18-4-1">18.4.1. Solution 1</a></li>
<li><a href="#sec-18-4-2">18.4.2. Solution 2</a></li>
</ul>
</li>
<li><a href="#sec-18-5">18.5. Question: Peaks and Valleys</a>
<ul>
<li><a href="#sec-18-5-1">18.5.1. Solution 1</a></li>
<li><a href="#sec-18-5-2">18.5.2. Solution 2</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-19">19. Testing</a>
<ul>
<li><a href="#sec-19-1">19.1. Testing a Real World Object</a></li>
<li><a href="#sec-19-2">19.2. Testing a Piece of Software</a>
<ul>
<li><a href="#sec-19-2-1">19.2.1. Manual vs. Automated</a></li>
<li><a href="#sec-19-2-2">19.2.2. Black Box vs. White Box</a></li>
</ul>
</li>
<li><a href="#sec-19-3">19.3. Testing a Function</a></li>
<li><a href="#sec-19-4">19.4. Troubleshooting</a></li>
<li><a href="#sec-19-5">19.5. Question: Random Crashes</a></li>
<li><a href="#sec-19-6">19.6. Question: No Test Tools</a></li>
<li><a href="#sec-19-7">19.7. Question: Test a Pen</a></li>
</ul>
</li>
<li><a href="#sec-20">20. C and C++</a>
<ul>
<li><a href="#sec-20-1">20.1. Question: Last K Lines</a></li>
<li><a href="#sec-20-2">20.2. Question: Shallow vs Deep Copy</a></li>
<li><a href="#sec-20-3">20.3. Question: Copy Node</a></li>
<li><a href="#sec-20-4">20.4. Question: Smart Pointer</a></li>
<li><a href="#sec-20-5">20.5. Question: Malloc</a></li>
</ul>
</li>
<li><a href="#sec-21">21. Databases</a>
<ul>
<li><a href="#sec-21-1">21.1. Database Design</a></li>
</ul>
</li>
<li><a href="#sec-22">22. Moderate</a>
<ul>
<li><a href="#sec-22-1">22.1. Number Swapper</a>
<ul>
<li><a href="#sec-22-1-1">22.1.1. Number Manipulation</a></li>
<li><a href="#sec-22-1-2">22.1.2. Bit Manipulation</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> The Interview Process</h2>
<div class="outline-text-2" id="text-1">
<p>
The interviewer is looking to evaluate your ability to solve algorithmic problems you haven't seen before.
</p>

<p>
If you had to design/architect a new solution, did you structure the problem well and think through the tradeoffs of different decisions?
</p>

<p>
Interviewers justify the reliance on data structures and algorithms by arguing that it's a good "proxy". It's reasonably well-correlated with being a good developer.
</p>

<p>
Interviewers assess you relative to other candidates on that same question by the same interviewer. It's a relative comparison. It's not about the candidates he's interviewing that week. It's about all the candidates that he's ever asked this question to.
</p>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Behind the Scenes</h2>
<div class="outline-text-2" id="text-2">
<p>
The "screening" interview often involves coding and algorithms questions. Ask your recruiting coordinator what position your interviewer holds (or what the interview might cover).
</p>

<p>
Most companies get back after about a week with next steps (offer, rejection, further interviews, or just an update on the process). If you have waited more than a week, you should follow up with your recruiter.
</p>
</div>

<div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> The Microsoft Interview</h3>
<div class="outline-text-3" id="text-2-1">
<p>
"Why do you want to work for Microsoft?" In this question, Microsoft wants to see that you're passionate about technology.
</p>
</div>
</div>
<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2"><span class="section-number-3">2.2</span> The Amazon Interview</h3>
<div class="outline-text-3" id="text-2-2">
<p>
The "bar raiser" interviewer is charged with keeping the interview bar high. This person has both signifcant experience with interviews and veto power in the hiring decision.
</p>

<p>
Amazon cares a lot about scale.
</p>
</div>
</div>
<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3"><span class="section-number-3">2.3</span> The Google Interview</h3>
<div class="outline-text-3" id="text-2-3">
<p>
Feedback is typically broken down intofour categories (Analytical Ability, Coding, Experience, and Communication)
</p>

<p>
Google puts a strong focus on analytical (algorithm) skills, regardless of experience.
</p>
</div>
</div>
<div id="outline-container-sec-2-4" class="outline-3">
<h3 id="sec-2-4"><span class="section-number-3">2.4</span> The Facebook Interview</h3>
<div class="outline-text-3" id="text-2-4">
<p>
Facebook interviews developers for the company "in general", not for a specifc team.
</p>
</div>
</div>
<div id="outline-container-sec-2-5" class="outline-3">
<h3 id="sec-2-5"><span class="section-number-3">2.5</span> The Palantir Interview</h3>
<div class="outline-text-3" id="text-2-5">
<p>
"Pooled" interviews: where you interview with the company as a whole, not with a specifc team.
</p>
</div>
</div>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Special Situations</h2>
<div class="outline-text-2" id="text-3">
<p>
Practice testing the coding questions. Ask yourself, "How would I test this?"
</p>
</div>

<div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> Startups</h3>
<div class="outline-text-3" id="text-3-1">
<p>
For the hottest startups, often the best way in is through a personal referral.
</p>

<p>
Establishing a friendly, engaging conversation with your interviewers is your ticket to many job offers.
</p>
</div>
</div>
<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2"><span class="section-number-3">3.2</span> Acquisitions and Acquihires</h3>
<div class="outline-text-3" id="text-3-2">
<p>
During the technical due diligence process for many acquisitions, the acquirer will often interview most or all of a startup's employees.
</p>

<p>
The famous multi-billion dollar acquisitions generally did not have to go through this process. Those acquisitions, after all, are usually about the user base and community, less so about the employees or even the technology.
</p>

<p>
There is a big gray area between acquihires (i.e., talent acquisitions) and product acquisitions. Many startups are acquired for the team and ideas behind the technology.The acquirer might discontinue the product, but have the team work on something very similar.
</p>
</div>
</div>
<div id="outline-container-sec-3-3" class="outline-3">
<h3 id="sec-3-3"><span class="section-number-3">3.3</span> For Interviewers</h3>
<div class="outline-text-3" id="text-3-3">
<p>
Walk through the brute force solution and look for areas to optimize.
</p>

<p>
Learn to distinguish between "I'm stuck and have no idea what to do" and "I'm thinking in silence".
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>Sanity Check</b></th>
<th scope="col" class="left">- easy problem-solving or design questions</th>
</tr>

<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">- assess a minimum degree of competence in problem-solving</th>
</tr>

<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">- used early in the process (to filter out the worst candidates)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><b>Quality Check</b></td>
<td class="left">- more challenging questions</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">- designed to be rigorous and really make a candidate think</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>Specialist Questions</b></td>
<td class="left">- test knowledge of specifc topics</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">- for skills an engineer couldn't quickly learn on the job</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>Proxy Knowledge</b></td>
<td class="left">- knowledge expected for a candidate at their level to know</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">- if a candidate has worked in depth with certain technologies,</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">but can't talk about certain things, that suggests an issue</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> Before the Interview</h2>
<div class="outline-text-2" id="text-4">
</div><div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1"><span class="section-number-3">4.1</span> Writing a Great Resume</h3>
<div class="outline-text-3" id="text-4-1">
<p>
Shorter resumes are often more impressive. Limit the content to the most impressive items. It is strongly advised to keep a resume to one page if you have less than ten years of experience. More experienced candidates can often justify 1.5 - 2 pages otherwise. Recruiters only spend a fixed amount of time (about 10 seconds) looking at your resume.
</p>

<p>
Discuss your accomplishments with the fllowing approach: <span class="underline">Accomplished X by implementing Y which led to Z</span>. Show what you did, how you did it, and what the results were. Try to make the results "measurable".
</p>

<p>
Include your 2 - 4 most signifcant projects.
</p>

<p>
List most of the languages you've used, but add your experience level. But don't be too language focused. There is a belief in many circles that the best software engineers don't defne themselves around a particular language.
</p>

<p>
Do not include age, marital status, or nationality. Personal information is not appreciated by companies, as it creates a legal liability for them.
</p>
</div>
</div>
</div>
<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> Behavioral Questions</h2>
<div class="outline-text-2" id="text-5">
</div><div id="outline-container-sec-5-1" class="outline-3">
<h3 id="sec-5-1"><span class="section-number-3">5.1</span> Interview Preparation Grid</h3>
<div class="outline-text-3" id="text-5-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">Project 1</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">Challenges</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">Mistakes/Failures</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">Enjoyed</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">Leadership</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">Conflicts</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">What You'd Do Differently</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-5-1-1" class="outline-4">
<h4 id="sec-5-1-1"><span class="section-number-4">5.1.1</span> What questions should you ask the interviewer?</h4>
<div class="outline-text-4" id="text-5-1-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>Genuine Questions</b></th>
<th scope="col" class="left">- What is the ratio of testers to developers to program managers?</th>
</tr>

<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">- What is the interaction like?</th>
</tr>

<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">- How does project planning happen on the team?</th>
</tr>

<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">- What brought you to this company?</th>
</tr>

<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">- What has been most challenging for you?</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><b>Insightful Questions</b></td>
<td class="left">- I noticed that you use technology X. How do you handle problem Y?</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">- Why did the product choose to use the X protocol over theY protocol?</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>Passion Questions</b></td>
<td class="left">- What opportunities are there at this company to learn about X?</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">- Could you tell me a bit more about how X works?</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="outline-container-sec-5-2" class="outline-3">
<h3 id="sec-5-2"><span class="section-number-3">5.2</span> Know Your Technical Projects</h3>
<div class="outline-text-3" id="text-5-2">
<p>
Prepare 1 - 3 projects that you can talk about in detail. Be able to discuss the technical components in depth. Criteria:
</p>

<ul class="org-ul">
<li>The project had challenging components.
</li>
<li>You played a central role.
</li>
<li>You can talk at technical depth.
</li>
</ul>

<p>
Be able to talk about the challenges, mistakes, technical decisions, choices of technologies (and tradeoffs of these), and the things you would do differently, how you would scale the application.
</p>
</div>
</div>
<div id="outline-container-sec-5-3" class="outline-3">
<h3 id="sec-5-3"><span class="section-number-3">5.3</span> Responding to Behavioral Questions</h3>
<div class="outline-text-3" id="text-5-3">
<p>
Be specific to make yourself sound good without being arrogant. Specifcity means giving just the facts and letting the interviewer derive an interpretation.
</p>

<p>
Stay light on details and just state the key points. Explain the impact. Offer the interviewer the opportunity to drill in further: "I can go into more details if you'd like".
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>Nugget First</b></th>
<th scope="col" class="left">Start with a "nugget" that succinctly describes what the response will be about.</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><b>S.A.R</b></td>
<td class="left"><span class="underline">Situation, Action, Result</span></td>
</tr>
</tbody>
</table>

<p>
Analyze the actions you took and how you reacted. What personality attributes does your reaction demonstrate?
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>Less Clear Attribute</b></th>
<th scope="col" class="left">- "I called up the client and told him what happened."</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><b>More Clear Attribute</b></td>
<td class="left">- "I made sure to call the client myself, because I knew</td>
</tr>

<tr>
<td class="left"><b>(Empathy and Courage)</b></td>
<td class="left">that he would appreciate hearing it directly from me."</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-5-4" class="outline-3">
<h3 id="sec-5-4"><span class="section-number-3">5.4</span> So, tell me about yourself &#x2026;</h3>
<div class="outline-text-3" id="text-5-4">
<ol class="org-ol">
<li>Current role (headline only)
</li>
<li>College
</li>
<li>Post-college and onwards
</li>
<li>Current role (details)
</li>
<li>Outside of work
</li>
<li>Wrap up
</li>
</ol>

<p>
Sometimes hobbies can be useful:
</p>

<ul class="org-ul">
<li>The hobby is technical. This not only boosts your actual skillset, but it also shows passion for technology.
</li>
<li>The hobby demonstrates a positive personality attribute.
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6"><span class="section-number-2">6</span> Big O</h2>
<div class="outline-text-2" id="text-6">
</div><div id="outline-container-sec-6-1" class="outline-3">
<h3 id="sec-6-1"><span class="section-number-3">6.1</span> An Analogy</h3>
<div class="outline-text-3" id="text-6-1">
<p>
A one-terabyte (1 TB) fle could take more than a day to transfer electronically. It would be much faster to just fly it across the country.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>Electronic Transfer:</b></th>
<th scope="col" class="left">The time to transfer the file increases linearly with the size of the file.</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><b>Airplane Transfer:</b></td>
<td class="left">As the size of the file increases, it won't take any longer to transfer the file.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-6-2" class="outline-3">
<h3 id="sec-6-2"><span class="section-number-3">6.2</span> Time Complexity</h3>
<div class="outline-text-3" id="text-6-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>\(O\) (big O)</b></th>
<th scope="col" class="left">- the upper bound on runtime</th>
</tr>

<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">- An algorithm that prints all the values in an array could be described as $O(N)$,</th>
</tr>

<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">but it could also be described as $O(N^2)$, $O(N^3)$, or $O(2^N)$. It's technically</th>
</tr>

<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">true (although not terribly useful).</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><b>$\Omega$ (big omega)</b></td>
<td class="left">- the lower bound on runtime</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>$\Theta$ (big theta)</b></td>
<td class="left">- the tight bound on runtime</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">- An algorithm is $\Theta(N)$ if it is both $O(N)$ and $\Omega(N)$.</td>
</tr>
</tbody>
</table>

<p>
Industry's meaning of big O is closer to what academics mean by $\Theta$.
</p>

<p>
We rarely ever discuss best case time complexity, because it's not a very useful concept. And for many, probably most, algorithms, the worst case and the expected case are the same.
</p>
</div>
</div>
<div id="outline-container-sec-6-3" class="outline-3">
<h3 id="sec-6-3"><span class="section-number-3">6.3</span> Space Complexity</h3>
<div class="outline-text-3" id="text-6-3">
<p>
Space complexity is a parallel concept to time complexity.
</p>

<p>
<span class="underline">Stack space in recursive calls counts, too.</span>
</p>
</div>
</div>
<div id="outline-container-sec-6-4" class="outline-3">
<h3 id="sec-6-4"><span class="section-number-3">6.4</span> Drop the Constants</h3>
<div class="outline-text-3" id="text-6-4">
<p>
Big O just describes the rate of increase. For this reason, we drop the constants in runtime.
</p>

<div class="org-src-container">
<label class="org-src-name">Min and Max 1</label>
<pre class="src src-java"><span class="org-type">int</span> <span class="org-variable-name">min</span> = <span class="org-constant">Integer</span>.MAX_VALUE;
<span class="org-type">int</span> <span class="org-variable-name">max</span> = <span class="org-constant">Integer</span>.MIN_VALUE;
<span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">x</span> : array) {
    <span class="org-keyword">if</span> (x &lt; min) min = x;
    <span class="org-keyword">if</span> (x &gt; max) max = x;
}
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">Min and Max 2</label>
<pre class="src src-java"><span class="org-type">int</span> <span class="org-variable-name">min</span> = <span class="org-constant">Integer</span>.MAX_VALUE;
<span class="org-type">int</span> <span class="org-variable-name">max</span> = <span class="org-constant">Integer</span>.MIN_VALUE;
<span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">x</span> : array) {
    <span class="org-keyword">if</span> (x &lt; min) min = x;
}
<span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">x</span> : array) {
    <span class="org-keyword">if</span> (x &gt; max) max = x;
}
</pre>
</div>

<p>
Two non-nested loops does not make the runtime $O(2N)$ in this case. If you're going to count the number of instructions, then you'd have to go to the assembly level.
</p>
</div>
</div>
<div id="outline-container-sec-6-5" class="outline-3">
<h3 id="sec-6-5"><span class="section-number-3">6.5</span> Amortized Time</h3>
<div class="outline-text-3" id="text-6-5">
<p>
An <code>Arraylist</code> is implemented with an array. When the array hits capacity, the <code>Arraylist</code> class will create a new array with double the capacity and copy all the elements over to the new array. If the array contains N elements, then inserting a new element will take $O(N)$ time. However the vast majority of the time insertion will be in $O(1)$ time.
</p>

<p>
<del>Amortized time</del> allows us to describe that <span class="underline">worst case happens every once in a while. But once it happens, it won't happen again for so long that the cost is "amortized".</span> In this case, \(N\) insertions take $O(2N)$ (1 + 2 + 4 + &#x2026; + N) time. The amortized time for each insertion is $O(1)$.
</p>
</div>
</div>
<div id="outline-container-sec-6-6" class="outline-3">
<h3 id="sec-6-6"><span class="section-number-3">6.6</span> Recursive Runtimes</h3>
<div class="outline-text-3" id="text-6-6">
<p>
The base of a log doesn't matter since logs of different bases are only different by a constant factor. However, the base of an exponent does matter.
</p>
</div>
</div>
<div id="outline-container-sec-6-7" class="outline-3">
<h3 id="sec-6-7"><span class="section-number-3">6.7</span> Examples and Exercises</h3>
<div class="outline-text-3" id="text-6-7">
</div><div id="outline-container-sec-6-7-1" class="outline-4">
<h4 id="sec-6-7-1"><span class="section-number-4">6.7.1</span> Example 8</h4>
<div class="outline-text-4" id="text-6-7-1">
<p>
Suppose we had an algorithm that took in an array of strings, sorted each string, and then sorted the full array. What would the runtime be?
</p>

<p>
Many candidates will reason the following: sorting each string is $O(N \log{N})$ and we have to do this for each string, so that's $O(N^2 \log{N})$. The problem is that we used N in two different ways. In one case, it's the length of the string. And in another case, it's the length of the array.
</p>

<p>
Let \(s\) be the length of the longest string. Let \(a\) be the length of the array. Sorting each string is $O(s \log{s})$. We have to do this for every string so that's $O(as \log{s})$. <span class="underline">Each string comparison takes $O(s)$ time.</span> There are $O(a \log{a})$ comparisons, therefore this will take $O(as \log{a})$ time.
</p>
</div>
</div>
<div id="outline-container-sec-6-7-2" class="outline-4">
<h4 id="sec-6-7-2"><span class="section-number-4">6.7.2</span> Example 12</h4>
<div class="outline-text-4" id="text-6-7-2">
<div class="org-src-container">
<label class="org-src-name">This code counts all permutations of a string.</label>
<pre class="src src-java"><span class="org-type">void</span> <span class="org-function-name">permutation</span>(<span class="org-type">String</span> <span class="org-variable-name">str</span>) {
    permutation(str, <span class="org-string">""</span>);
}

<span class="org-type">void</span> <span class="org-function-name">permutation</span>(<span class="org-type">String</span> <span class="org-variable-name">str</span>, <span class="org-type">String</span> <span class="org-variable-name">prefix</span>) {
    <span class="org-keyword">if</span> (str.length() == 0) {
        <span class="org-comment-delimiter">// </span><span class="org-comment">Base case</span>
        System.out.println(prefix); <span class="org-comment-delimiter">// </span><span class="org-comment">O(N) since each character needs to be printed</span>
    } <span class="org-keyword">else</span> {
        <span class="org-comment-delimiter">// </span><span class="org-comment">Before base case</span>
        <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">i</span>= 0; i &lt; str.length(); i++) {
            <span class="org-type">String</span> <span class="org-variable-name">rem</span> = str.substring(0, i) + str.substring(i + 1); <span class="org-comment-delimiter">// </span><span class="org-comment">O(N) due to string concatenation</span>
            permutation(rem, prefix + str.charAt(i));
        }
    }
}
</pre>
</div>

<p>
不理解：How many times does permutation get called before its base case (how many times lines 9 through 12 are hit)? Picture a large call tree representing all the calls. There are $N!$ permutations (leaves). Each leaf is attached to a path of length \(N\). Therefore, there will be no more than $N \times N!$ nodes (function calls) in this tree.
</p>
</div>
</div>
<div id="outline-container-sec-6-7-3" class="outline-4">
<h4 id="sec-6-7-3"><span class="section-number-4">6.7.3</span> Example 13</h4>
<div class="outline-text-4" id="text-6-7-3">
<div class="org-src-container">
<label class="org-src-name">The following code computes the Nth Fibonacci number.</label>
<pre class="src src-java"><span class="org-type">int</span> <span class="org-function-name">fib</span>(<span class="org-type">int</span> <span class="org-variable-name">n</span>) {
    <span class="org-keyword">if</span> (n &lt;= 0) <span class="org-keyword">return</span> 0;
    <span class="org-keyword">else</span> <span class="org-keyword">if</span> (n == 1) <span class="org-keyword">return</span> 1;
    <span class="org-keyword">return</span> fib(n - 1) + fib(n - 2);
}
</pre>
</div>

<p>
There are 2 branches per call, and we go as deep as \(N\), therefore the runtime is $O(2^N)$. But it's actually closer to $O(1.6^N)$. Because at the bottom of the call stack, there is sometimes only one call.
</p>

<p>
Generally speaking, <span class="underline">an algorithm with multiple recursive calls takes exponential runtime.</span>
</p>
</div>
</div>
<div id="outline-container-sec-6-7-4" class="outline-4">
<h4 id="sec-6-7-4"><span class="section-number-4">6.7.4</span> Example 15</h4>
<div class="outline-text-4" id="text-6-7-4">
<p>
The fllowing code prints all Fibonacci numbers from O to N. However, this time, it stores (i.e., caches) previously computed values in an integer array. If it has already been computed, it just returns the cache. <span class="underline">Memoization is a very common one to optimize exponential time recursive algorithms.</span>
</p>
</div>
</div>
<div id="outline-container-sec-6-7-5" class="outline-4">
<h4 id="sec-6-7-5"><span class="section-number-4">6.7.5</span> Example 16</h4>
<div class="outline-text-4" id="text-6-7-5">
<p>
An approach of runtime is to think about <span class="underline">how the runtime changes as N gets bigger.</span>
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7"><span class="section-number-2">7</span> Technical Questions</h2>
<div class="outline-text-2" id="text-7">
</div><div id="outline-container-sec-7-1" class="outline-3">
<h3 id="sec-7-1"><span class="section-number-3">7.1</span> Power of 2 Table</h3>
<div class="outline-text-3" id="text-7-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="right" />

<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="right"><b>Power of 2</b></th>
<th scope="col" class="left"><b>Exact Value</b></th>
<th scope="col" class="left"><b>Approx. Value</b></th>
<th scope="col" class="left"><b>Bytes</b></th>
</tr>
</thead>
<tbody>
<tr>
<td class="right">8</td>
<td class="left">256</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">10</td>
<td class="left">1024</td>
<td class="left">1 thousand</td>
<td class="left">1 KB</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">16</td>
<td class="left">65,536</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">20</td>
<td class="left">1,048,576</td>
<td class="left">1 million</td>
<td class="left">1 MB</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">30</td>
<td class="left">1,073,741,824</td>
<td class="left">1 billion</td>
<td class="left">1 GB</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">32</td>
<td class="left">4,294,967,296</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">40</td>
<td class="left">1,099,511,627,776</td>
<td class="left">1 trillion</td>
<td class="left">1 TB</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-7-2" class="outline-3">
<h3 id="sec-7-2"><span class="section-number-3">7.2</span> Walking Through a Problem</h3>
<div class="outline-text-3" id="text-7-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>1. Listen</b></th>
<th scope="col" class="left">&#xa0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><b>2. Example</b></td>
<td class="left">Use examples that are big enough and are not special cases.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>3. Brute Force</b></td>
<td class="left">Get a brute-force solution as soon as possible. State a naive algorithm and</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">its runtime, then optimize from there.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>4. Optimize</b></td>
<td class="left">Walk through brute force solution with BUD optimization.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#x2013; Look for any unused info.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#x2013; Solve it manually on an example, then reverse engineer the thought process.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#x2013; <span class="underline">Make a time vs. space tradeoff. Hash tables are especially useful.</span></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>5. Walk Through</b></td>
<td class="left">Walk through the optimal solution in detail.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>6. Implement</b></td>
<td class="left"><span class="underline">Modularize from the beginning</span> and refactor to clean up anything that isn't</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">beautiful.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>7. Test</b></td>
<td class="left">&#x2013; Conceptual test: walk through the code like a detailed code review.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#x2013; Unusual or non-standard code.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#x2013; Hot spots, like arithmetic and null nodes.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#x2013; Small test cases.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#x2013; Special cases and edge cases.</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-7-2-1" class="outline-4">
<h4 id="sec-7-2-1"><span class="section-number-4">7.2.1</span> Listen</h4>
<div class="outline-text-4" id="text-7-2-1">
<p>
<span class="underline">To-be-run-repeatedly situation</span> is different from the run-once situation. Perhaps this means that <span class="underline">data should be cached</span>. Or perhaps it justifes some reasonable <span class="underline">precomputation</span> on the initial dataset.
</p>

<p>
It might be useful to write the pertinent infrmation on the whiteboard.
</p>
</div>
</div>
<div id="outline-container-sec-7-2-2" class="outline-4">
<h4 id="sec-7-2-2"><span class="section-number-4">7.2.2</span> Example</h4>
<div class="outline-text-4" id="text-7-2-2">
<p>
Special cases can be very deceiving. Instead, create an example that is:
</p>

<p>
&#x2013; Specifc. It should use real numbers or strings. <br  />
&#x2013; Sufficiently large. Most examples are too small, by about 50%. <br  />
&#x2013; Not a special case. <br  />
</p>
</div>
</div>
<div id="outline-container-sec-7-2-3" class="outline-4">
<h4 id="sec-7-2-3"><span class="section-number-4">7.2.3</span> Brute Force</h4>
<div class="outline-text-4" id="text-7-2-3">
<p>
Even if it's obvious, it's not necessarily obvious for all candidates. <span class="underline">Don't let the interviewer think that you're struggling to see even the easy solution.</span> Explain what the space and time complexity is, and then dive into improvements.
</p>
</div>
</div>
<div id="outline-container-sec-7-2-4" class="outline-4">
<h4 id="sec-7-2-4"><span class="section-number-4">7.2.4</span> Optimize</h4>
<div class="outline-text-4" id="text-7-2-4">
<p>
&#x2013; Look for any unused information. <br  />
&#x2013; Use a fresh example. A different example helps to see a pattern in the problem. <br  />
&#x2013; Make <span class="underline">time vs. space tradeoff</span>. Sometimes storing extra state can help optimize the runtime. <br  />
&#x2013; <span class="underline">Precompute</span> information. Reorganize input or compute some values upfront may help save time. <br  />
&#x2013; Use a <span class="underline">hash table</span>. <br  />
&#x2013; Think about BCR (Best Conceivable Runtime). <br  />
</p>
</div>
</div>
<div id="outline-container-sec-7-2-5" class="outline-4">
<h4 id="sec-7-2-5"><span class="section-number-4">7.2.5</span> Walk Through</h4>
<div class="outline-text-4" id="text-7-2-5">
<p>
Walk through the algorithm and get a feel for the structure of the code.
</p>
</div>
</div>
<div id="outline-container-sec-7-2-6" class="outline-4">
<h4 id="sec-7-2-6"><span class="section-number-4">7.2.6</span> Implement</h4>
<div class="outline-text-4" id="text-7-2-6">
<p>
&#x2013; Modularized code. Sometimes pretend you have a certain function, and fill in the details later. <br  />
&#x2013; Error checks. Add a <code>TODO</code> and explain what you'd like to test. <br  />
&#x2013; Use other classes/structs where appropriate. Pretend it exists and deal with the details later. <br  />
</p>

<p>
If there is something that can be refactored later, explain to the interviewer and decide whether or not it's worth the time to do so. 
</p>
</div>
</div>
<div id="outline-container-sec-7-2-7" class="outline-4">
<h4 id="sec-7-2-7"><span class="section-number-4">7.2.7</span> Test</h4>
<div class="outline-text-4" id="text-7-2-7">
<p>
&#x2013; Conceptual test. Read and analyze what each line of code does. <br  />
&#x2013; <span class="underline">Hot spots. Base cases in recursive code. Integer division. Null nodes in binary trees. The start and end of iteration through a linked list.</span> <br  />
&#x2013; Small test cases. <br  />
&#x2013; <span class="underline">Special cases. Null or single element values. Extreme cases.</span> <br  />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-7-3" class="outline-3">
<h3 id="sec-7-3"><span class="section-number-3">7.3</span> Look for BUD</h3>
<div class="outline-text-3" id="text-7-3">
<p>
&#x2013; <b>B</b> ottlenecks <br  />
&#x2013; <b>U</b> nnecessary work <br  />
&#x2013; <b>D</b> uplicated work <br  />
</p>

<p>
These are three of the most common things that an algorithm can "waste" time doing.
</p>
</div>

<div id="outline-container-sec-7-3-1" class="outline-4">
<h4 id="sec-7-3-1"><span class="section-number-4">7.3.1</span> Bottlenecks</h4>
<div class="outline-text-4" id="text-7-3-1">
<p>
A two-step algorithm: first sort an array, and then look for elements with a particular property. The first step is $O(N \log{N})$. The second step to $O(\log{N})$ or $O(1)$, but it's not a priority, as the $O(N \log{N})$ is the bottleneck.
</p>

<div class="org-quote-container">
<blockquote>
<p>
Example: Given an array of distinct integer values, count the number of pairs of integers that have difference <code>k</code>. For example, given the array <code>{1, 7, 5, 9, 2, 12, 3}</code> and <code>k = 2</code>, there are four pairs: <code>(1, 3), (3, 5), (5, 7), (7, 9)</code>.
</p>

<p>
$O(N \log{N})$ 算法：将数组排序，按照以 <code>k</code> 为除数的余数分组，遍历每一组，相邻两个数的差为 <code>k</code> 时就是一组结果。
</p>

<p>
Sorting is the bottleneck. How <span class="underline">to find things quickly in an unsorted array? With a hash table.</span> Throw everything in the array into the hash table. Then look up if <code>x + k</code> or <code>x - k</code> exists for each element. We can do this in $O(N)$ time.
</p>
</blockquote>
</div>
</div>
</div>
<div id="outline-container-sec-7-3-2" class="outline-4">
<h4 id="sec-7-3-2"><span class="section-number-4">7.3.2</span> Unnecessary Work</h4>
<div class="outline-text-4" id="text-7-3-2">
<div class="org-quote-container">
<blockquote>
<p>
Example: Print all positive integer solutions to the equation $a^3 + b^3 = c^3 + d^3$ where $a, b, c, d$ are integers between 1 and 1000.
</p>

<p>
$O(N^2)$ 算法：两层循环遍历所有两个（不重复）数字组合，将立方和作为键、数字组合作为值存入哈希表，如果一个立方和在哈希表中已存在，表示找到一组解。
</p>
</blockquote>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-7-4" class="outline-3">
<h3 id="sec-7-4"><span class="section-number-3">7.4</span> DIY (Do It Yourself)</h3>
<div class="outline-text-3" id="text-7-4">
<p>
Our brains are funny like this. Throw the phrase "Design an algorithm" in there and people often get all jumbled up. But give people an actual example, their intuition gives them a very nice algorithm. When you get a question, try working it through intuitively on a real example.
</p>

<div class="org-quote-container">
<blockquote>
<p>
Example: Given a smaller string <code>s</code> and a bigger string <code>b</code>, design an algorithm to find all permutations of <code>a</code> within <code>b</code>.
</p>

<p>
$O(N)$ 算法：Maintain a "char map" while iterating string <code>b</code>, each value indicates if the char in current substring is in excess (positive value) or in short (negative value) comparing with string <code>a</code>. Use a <code>diff</code> value to check if all values in map are 0 at current index. When a value in map becomes 0, diff value minus 1, otherwise plus 1. If <code>diff = 0</code>, then current index is the starting position of a substring permutation.
</p>

<p>
E.g. <code>string a = abc, string b = abdbca</code> <br  />
<code>idx = 0, substring = "abd", map = { a = 0,  b = 0, c = -1, d = 1 }, diff = 2</code> <br  />
<code>idx = 1, substring = "bdb", map = { a = -1, b = 1, c = -1, d = 1 }, diff = 4</code> <br  />
<code>idx = 2, substring = "dbc", map = { a = -1, b = 0, c = 0,  d = 1 }, diff = 2</code> <br  />
<code>idx = 3, substring = "bca", map = { a = 0,  b = 0, c = 0,  d = 0 }, diff = 0</code> <br  />
</p>
</blockquote>
</div>
</div>
</div>
<div id="outline-container-sec-7-5" class="outline-3">
<h3 id="sec-7-5"><span class="section-number-3">7.5</span> Base Case and Build</h3>
<div class="outline-text-3" id="text-7-5">
<p>
Solve the problem first for a base case (e.g., <code>n = 1</code>) and then try to build up from there. Base Case and Build algorithms often lead to natural recursive algorithms.
</p>

<div class="org-quote-container">
<blockquote>
<p>
Example: Print all permutations of a string. For simplicity, assume all characters are unique.
</p>

<p>
$O(N! + (N-1)! + ... 1)$ 算法：递归计算，遍历每个字符分别作为前缀，剩余字符的置换作为后缀。 <code>permute("abc") = concat('a', permute("bc")) + concat('b', permute("ac")) + concat('c', permute("ab"))</code> 。
</p>
</blockquote>
</div>
</div>
</div>
<div id="outline-container-sec-7-6" class="outline-3">
<h3 id="sec-7-6"><span class="section-number-3">7.6</span> Data Structure Brainstorm</h3>
<div class="outline-text-3" id="text-7-6">
<p>
Run through a list of data structures and try to apply each one.
</p>

<p>
<span class="underline">A heap is really good at basic ordering and keeping track of max and mins.</span>
</p>

<div class="org-quote-container">
<blockquote>
<p>
Example: Numbers are randomly generated and stored into an (expanding) array. How to keep track of the median?
</p>

<p>
Iterate the numbers and use 2 heaps to store the bigger half and smaller half of the numbers. The bigger half is kept in a min heap, and the smaller half in a max heap. If the heaps are not of the same size, balance them by popping one number from a heap and pushing it into the other. At the end, the potential median numbers are the roots of both heaps.
</p>
</blockquote>
</div>
</div>
</div>

<div id="outline-container-sec-7-7" class="outline-3">
<h3 id="sec-7-7"><span class="section-number-3">7.7</span> Best Conceivable Runtime (BCR)</h3>
<div class="outline-text-3" id="text-7-7">
<p>
Best Conceivable Runtime (BCR) is <span class="underline">the best runtime that could be conceived</span> of any solution to a problem. BCR is not necessarily achievable, what it means is that <span class="underline">it is impossible to do better</span>.
</p>

<p>
For example, to compute the number of elements that two arrays have in common, it is impossible to do that in better than $O(A + B)$ time. Or to print all pairs of values within an array, it is impossible do that in better than $O(N^2)$.
</p>

<p>
BCR The Best Conceivable Runtime is for a problem. It has no particular connection to a specific algorithm. The Best Case Runtime (also BCR) is for a specific algorithm, and is a mostly useless value.
</p>

<hr  />

<p>
For example, looking for the optimal algorithm when you have BCR and a brute force solution:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border dense">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">Brute Force:</th>
<th scope="col" class="left">$O(N^2)$</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">Optimal Algorithm:</td>
<td class="left">?</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">BCR:</td>
<td class="left">$O(N)$</td>
</tr>
</tbody>
</table>

<p>
Between $O(N)$ and $O(N^2)$ there could be infinite runtimes, but both in interviews and in real life, unusual runtimes don't come up often. In this case, it's most likely $O(N)$ or $O(N \log {N})$.
</p>

<hr  />

<p>
<span class="underline">Any work less than or equal to BCR won't impact the runtime.</span> For example, if BCR is $O(N)$, then any work done in $O(1)$ or $O(N)$ can be dropped from the runtime because it's not dominant.
</p>

<p>
<span class="underline">In general, we cannot search an array, even a sorted array, in better than $O(\log{N})$ time.</span> Unless the BCR is already equal to or bigger than $O(N)$, then a hash table ($O(N)$, equal to or less than BCR, therefore can by dropped) can be used to make search time $O(1)$.
</p>

<hr  />

<p>
<span class="underline">BCR tells us when it is "done" in terms of optimizing the runtime. We should then move on to reduce the space complexity.</span>
</p>

<p>
When BCR and minimal space have been reached, then there is no room for further improvements.
</p>
</div>
</div>
<div id="outline-container-sec-7-8" class="outline-3">
<h3 id="sec-7-8"><span class="section-number-3">7.8</span> Handling Incorrect Answers</h3>
<div class="outline-text-3" id="text-7-8">
<p>
It's not a binary evaluation. Rather, it's about how optimal the final solution was, how long it took to get there, how much help was needed, and how clean was the code. There is a range of factors.
</p>
</div>
</div>
<div id="outline-container-sec-7-9" class="outline-3">
<h3 id="sec-7-9"><span class="section-number-3">7.9</span> The "Perfect" Language for Interviews</h3>
<div class="outline-text-3" id="text-7-9">
<p>
<span class="underline">Some operations are easier in some languages than others.</span> For example, in Python, you can very easily return multiple values from a function. In Java, the same action would require a new class.
</p>
</div>
</div>
<div id="outline-container-sec-7-10" class="outline-3">
<h3 id="sec-7-10"><span class="section-number-3">7.10</span> What Good Coding Looks Like</h3>
<div class="outline-text-3" id="text-7-10">
<p>
Constant factors might get dropped when computing the big O time, but in real life, they can very much matter ($O(N)$ vs. $O(10N)$).
</p>
</div>

<div id="outline-container-sec-7-10-1" class="outline-4">
<h4 id="sec-7-10-1"><span class="section-number-4">7.10.1</span> Appropriate Code Reuse</h4>
<div class="outline-text-4" id="text-7-10-1">
<div class="org-quote-container">
<blockquote>
<p>
Example: Write a function to check if the value of a binary number (passed as a string) equals the hexadecimal representation of a string.
</p>
</blockquote>
</div>

<div class="org-src-container">

<pre class="src src-java"><span class="org-type">boolean</span> <span class="org-function-name">compareBinToHex</span>(<span class="org-type">String</span> <span class="org-variable-name">binary</span>, <span class="org-type">String</span> <span class="org-variable-name">hex</span>) {
    <span class="org-type">int</span> <span class="org-variable-name">n1</span> = convertFromBase(binary, 2);
    <span class="org-type">int</span> <span class="org-variable-name">n2</span> = convertFromBase(hex, 16);
    <span class="org-keyword">if</span> (n1 &lt; 0 || n2 &lt; 0) {
        <span class="org-keyword">return</span> <span class="org-constant">false</span>;
    }
    <span class="org-keyword">return</span> n1 == n2;
}

<span class="org-type">int</span> <span class="org-function-name">convertFromBase</span>(<span class="org-type">String</span> <span class="org-variable-name">number</span>, <span class="org-type">int</span> <span class="org-variable-name">base</span>) {
    <span class="org-keyword">if</span> (base &lt; 2 || (base &gt; 10 &amp;&amp; base != 16)) <span class="org-keyword">return</span> -1;
    <span class="org-type">int</span> <span class="org-variable-name">value</span> = 0;
    <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">i</span> = number.length() - 1; i &gt;= 0; i--) {
        <span class="org-type">int</span> <span class="org-variable-name">digit</span> = digitToValue(number.charAt(i));
        <span class="org-keyword">if</span> (digit &lt; 0 || digit &gt;= base) {
            <span class="org-keyword">return</span> -1;
        }
        <span class="org-type">int</span> <span class="org-variable-name">exp</span> = number.length() - 1 - i;
        value += digit * Math.pow(base, exp);
    }
    <span class="org-keyword">return</span> value;
}

<span class="org-type">int</span> <span class="org-function-name">digitToValue</span>(<span class="org-type">char</span> <span class="org-variable-name">c</span>) { ... }
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-7-10-2" class="outline-4">
<h4 id="sec-7-10-2"><span class="section-number-4">7.10.2</span> Modular</h4>
<div class="outline-text-4" id="text-7-10-2">
<p>
<span class="underline">Modular code is easily testable.</span>
</p>
</div>
</div>
<div id="outline-container-sec-7-10-3" class="outline-4">
<h4 id="sec-7-10-3"><span class="section-number-4">7.10.3</span> Flexible and Robust</h4>
<div class="outline-text-4" id="text-7-10-3">
<p>
Writing flexible, general-purpose code mean using variables instead of hard-coded values or using templates/generics to solve a problem.
</p>
</div>
</div>
<div id="outline-container-sec-7-10-4" class="outline-4">
<h4 id="sec-7-10-4"><span class="section-number-4">7.10.4</span> Error Checking</h4>
<div class="outline-text-4" id="text-7-10-4">
<p>
<span class="underline">One sign of a careful coder is not making assumptions about the input.</span> Instead, validate that the input is what it should be, either through <code>ASSERT</code> statements or <code>if</code> statements.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-8" class="outline-2">
<h2 id="sec-8"><span class="section-number-2">8</span> The Offer and Beyond</h2>
<div class="outline-text-2" id="text-8">
</div><div id="outline-container-sec-8-1" class="outline-3">
<h3 id="sec-8-1"><span class="section-number-3">8.1</span> Handling Offers and Rejection</h3>
<div class="outline-text-3" id="text-8-1">
<p>
If you're still waiting to hear back from other companies, you can ask for an extension. Companies will usually try to accommodate this, if possible.
</p>

<p>
When you do get the unfortunate call, use this as an opportunity to build a bridge to re-apply. Thank your recruiter for his time, explain that you're disappointed but that you understand their position, and <span class="underline">ask when you can reapply to the company.</span>
</p>
</div>
</div>
<div id="outline-container-sec-8-2" class="outline-3">
<h3 id="sec-8-2"><span class="section-number-3">8.2</span> Evaluating the Offer</h3>
<div class="outline-text-3" id="text-8-2">
<p>
Salary isjust one part of the fnancial compensation.
</p>

<ul class="org-ul">
<li>Many companies offer a <span class="underline">signing bonus and/or relocation</span>.
</li>
<li><span class="underline">Taxes and other cost of living</span> differences can make a big difference in takehome pay.
</li>
<li><span class="underline">Annual bonuses</span> at tech companies can range from anywhere from 3% to 30%.
</li>
<li><span class="underline">Stock compensation</span> between companies can be compared by amortizing it over 3 years and then lumping that value into salary.
</li>
</ul>

<p>
:_What you learn and how a company advances your career ofen makes far more of a difference to your long term finances than the salary._
</p>

<p>
The more stable companies are also often growing more slowly.
</p>

<p>
If you are given the opportunity to switch teams easily, you'll have an opportunity to find a team and product that matches you well.
</p>
</div>
</div>
<div id="outline-container-sec-8-3" class="outline-3">
<h3 id="sec-8-3"><span class="section-number-3">8.3</span> Negotiation</h3>
<div class="outline-text-3" id="text-8-3">
<p>
Negotiation isn't fun for most of us. But still, the financial benefits of negotiation are usually worth it.
</p>

<ul class="org-ul">
<li>Have a specifc "ask": <span class="underline">It's more effective to ask for an additional $7000 in salary than to just ask for "more".</span>
</li>
<li><span class="underline">Companies are ofen more willing to negotiate on non-salary components.</span> Consider
</li>
</ul>
<p>
asking for more equity or a bigger signing bonus.
</p>
</div>
</div>
<div id="outline-container-sec-8-4" class="outline-3">
<h3 id="sec-8-4"><span class="section-number-3">8.4</span> On the Job</h3>
<div class="outline-text-3" id="text-8-4">
<p>
When you're enjoying your job, it's very easy to get wrapped up in it and not realize that your career is not advancing. This is why you should outline your career path before starting a new job.
</p>

<p>
Establish strong relationships with your manager and teammates. <span class="underline">When employees leave, keep in touch with them.</span> Just a friendly note a few weeks after their departure will help to bridge that connection from a work acquaintance to a personal acquaintance.
</p>

<p>
<span class="underline">Set a goal of interviewing at least once a year, even if you aren't actively looking for a new job.</span> This will keep your interview skills fresh, and also keep you in tune with what sorts of opportunities (and salaries) are out there.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-9" class="outline-2">
<h2 id="sec-9"><span class="section-number-2">9</span> Arrays and Strings</h2>
<div class="outline-text-2" id="text-9">
<p>
Array questions and string questions are often interchangeable.
</p>
</div>

<div id="outline-container-sec-9-1" class="outline-3">
<h3 id="sec-9-1"><span class="section-number-3">9.1</span> Hash Tables</h3>
<div class="outline-text-3" id="text-9-1">
<p>
A hash table is a data structure that maps keys to values for highly effcient lookup.
</p>

<p>
In a simple implementation, use an array of linked lists and a hash code function. If the number of collisions is very high, the worst case runtime is $O(N)$, where \(N\) is the number of keys. Generally assume a good implementation that keeps collisions to a minimum, in which case the lookup time is $O(1)$.
</p>

<p>
Alternatively, <span class="underline">implement the hash table with a balanced binary search tree</span>. This gives an $O(\log{N})$ lookup time. The advantage of this is potentially <span class="underline">using less space</span>, since we no longer allocate a large array. We can also <span class="underline">iterate through the keys in order</span>, which can be useful sometimes.
</p>
</div>
</div>
<div id="outline-container-sec-9-2" class="outline-3">
<h3 id="sec-9-2"><span class="section-number-3">9.2</span> <code>ArrayList</code> &amp; Resizable Arrays</h3>
<div class="outline-text-3" id="text-9-2">
<p>
In some languages, arrays (lists) are automatically resizable. In other languages, like Java, arrays are fixed length.
</p>

<p>
<span class="underline">An <code>ArrayList</code> (the name of the data structure as well as the "resizing factor" can vary) is an array that resizes itself as needed while still providing $O(1)$ access.</span> A typical implementation is that when the array is full, the array doubles in size. Each doubling takes $O(n)$ time, but happens so rarely that its amortized insertion time is still $O(1)$ ($1 + 2 + ... + \frac{N}{4} + \frac{N}{2} < N$).
</p>
</div>
</div>
<div id="outline-container-sec-9-3" class="outline-3">
<h3 id="sec-9-3"><span class="section-number-3">9.3</span> <code>StringBuilder</code></h3>
<div class="outline-text-3" id="text-9-3">
<p>
To concatenate a list of strings, assume that the strings are all the same length \(x\) and that there are \(n\) strings. On each concatenation, a new copy of the string is created, and the two strings are copied over, character by character. The first iteration requires to copy \(x\) characters. The second iteration requires copying $2x$ characters. The total time therefore is $O(x + 2x + \ldots + nx)$. This reduces to $O(xn^2)$.
</p>

<p>
<code>StringBuilder</code> simply creates a resizable array of all the strings, copying them back to a string only when necessary.
</p>
</div>
</div>

<div id="outline-container-sec-9-4" class="outline-3">
<h3 id="sec-9-4"><span class="section-number-3">9.4</span> Question: Is Unique</h3>
<div class="outline-text-3" id="text-9-4">
<div class="org-quote-container">
<blockquote>
<p>
Implement an algorithm to determine if a string has all unique characters. What if you cannot use additional data structures?
</p>
</blockquote>
</div>

<ul class="org-ul">
<li>Ask if the charset is ASCII or a Unicode.
</li>
<li>Immediately return <code>false</code> if the string length exceeds the number of unique characters in the charset.
</li>
</ul>
</div>

<div id="outline-container-sec-9-4-1" class="outline-4">
<h4 id="sec-9-4-1"><span class="section-number-4">9.4.1</span> Time</h4>
<div class="outline-text-4" id="text-9-4-1">
<p>
Let <code>c</code> be the size of the charset. Time complexity is $O(\text{min}(c, n))$ or $O(c)$. Time complexity can be $O(1)$, since it will never iterate through more than the number of characters in the charset.
</p>
</div>
</div>
<div id="outline-container-sec-9-4-2" class="outline-4">
<h4 id="sec-9-4-2"><span class="section-number-4">9.4.2</span> Space</h4>
<div class="outline-text-4" id="text-9-4-2">
<p>
Space complexity is $O(c)$ but can also be <span class="underline">reduced by factor of 8 by using a <del>bit vector</del>.</span>
</p>

<p>
If it's not allowed to use additional data structures:
</p>

<ul class="org-ul">
<li>Compare every character of the string to every other character of the string, which takes $O(n^2)$ time.
</li>
<li>Sort the string (if allowed to modify) in $O(n \log{n})$ time and then linearly check the string for neighboring characters.
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-9-5" class="outline-3">
<h3 id="sec-9-5"><span class="section-number-3">9.5</span> Question: Check Permutation</h3>
<div class="outline-text-3" id="text-9-5">
<div class="org-quote-container">
<blockquote>
<p>
Given two strings, write a method to decide if one is a permutation of the other.
</p>
</blockquote>
</div>

<ul class="org-ul">
<li>Ask if the comparison is case sensitive.
</li>
<li>Ask if whitespace is signifcant.
</li>
</ul>

<p>
Comparing the sorted versions of the strings is not optimal, but it's clean, simple and easy to understand. In a practical sense, this may be a superior way.
</p>
</div>
</div>

<div id="outline-container-sec-9-6" class="outline-3">
<h3 id="sec-9-6"><span class="section-number-3">9.6</span> Question: Palindrome Permutation</h3>
<div class="outline-text-3" id="text-9-6">
<div class="org-quote-container">
<blockquote>
<p>
Check if a string is a permutation of a palindrome. A palindrome is a word or phrase that is the same forwards and backwards.
</p>
</blockquote>
</div>

<p>
To be a permutation of a palindrome, a string can have no more than one character that is odd. Instead of checking the number of odd counts at the end, we can check as we go along.
</p>

<p>
We don't actually need to know the counts. We just need to know if the count is even or odd. Given this, we can use a single integer (as a bit vector). At the end of the iteration, we <span class="underline">check that at most one bit in the integer is set to <code>1</code>.</span>
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">If 0 bit is <code>1</code>:</th>
<th scope="col" class="left">Equals to 0.</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">If 1 bit is <code>1</code>:</td>
<td class="left">Subtract 1 and do bit <code>AND</code>, the result is 0.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>00010000 - 1 = 00001111</code></td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>00010000 &amp; 00001111 = 0</code></td>
</tr>
</tbody>
</table>

<p>
<span class="underline">Generating all permutations requires factorial time</span> (worse than exponential time), and it is essentially infeasible to perform on strings longer than about 10-15 characters.
</p>
</div>
</div>
<div id="outline-container-sec-9-7" class="outline-3">
<h3 id="sec-9-7"><span class="section-number-3">9.7</span> Question: Zero Matrix</h3>
<div class="outline-text-3" id="text-9-7">
<div class="org-quote-container">
<blockquote>
<p>
If an element in an $M \times N$ matrix is 0, change its entire row and column to 0.
</p>
</blockquote>
</div>
</div>

<div id="outline-container-sec-9-7-1" class="outline-4">
<h4 id="sec-9-7-1"><span class="section-number-4">9.7.1</span> Space</h4>
<div class="outline-text-4" id="text-9-7-1">
<p>
To be more space efficient, use a bit vector instead of a boolean array.
</p>

<p>
Or reduce the space to $O(1)$ by using the first row as a replacement for the row array and the first column as a replacement for the column array. Check if the first row and first column have any zeros, and set variables <code>rowHasZero</code> and <code>columnHasZero</code>, and nullif the first row and first column later, if necessary.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-10" class="outline-2">
<h2 id="sec-10"><span class="section-number-2">10</span> Linked Lists</h2>
<div class="outline-text-2" id="text-10">
<p>
The beneft of a linked list is that you can <span class="underline">add and remove items from the beginning of the list in constant time.</span>
</p>
</div>

<div id="outline-container-sec-10-1" class="outline-3">
<h3 id="sec-10-1"><span class="section-number-3">10.1</span> The "Runner" Technique</h3>
<div class="outline-text-3" id="text-10-1">
<p>
The "runner" (or second pointer) technique is used in many linked list problems.It means to <span class="underline">iterate through the linked list with two pointers simultaneously, with one ahead of the other.</span>
</p>

<p>
For example, a linked list <code>a1-&gt;a2-&gt;...-&gt;an-&gt;b1-&gt;b2-&gt;...-&gt;bn</code>, to rearrange it into <code>a1-&gt;b1-&gt;a2-&gt;b2-&gt;...-&gt;an-&gt;bn</code>. Have one pointer <code>p1</code> (the fast pointer) move every 2 elements for every one move that <code>p2</code> makes. When <code>p1</code> hits the end of the linked list, <code>p2</code> will be at the midpoint. Then, move <code>p1</code> back to the front
and begin "weaving" the elements.
</p>
</div>
</div>
<div id="outline-container-sec-10-2" class="outline-3">
<h3 id="sec-10-2"><span class="section-number-3">10.2</span> Recursive Problems</h3>
<div class="outline-text-3" id="text-10-2">
<p>
<span class="underline">Many linked list problems rely on recursion.</span>
</p>

<p>
<span class="underline">Recursive algorithms take at least $O(n)$ space</span>, where \(n\) is the depth of the recursive call. <span class="underline">All recursive algorithms can be implemented iteratively</span>, although they may be much more complex.
</p>
</div>
</div>
<div id="outline-container-sec-10-3" class="outline-3">
<h3 id="sec-10-3"><span class="section-number-3">10.3</span> Question: Delete Middle Node</h3>
<div class="outline-text-3" id="text-10-3">
<div class="org-quote-container">
<blockquote>
<p>
Delete a node in the middle (could be anyone but the first or the last node, not necessarily the exact middle) of a singly linked list, given only access to that node.
</p>
</blockquote>
</div>

<p>
Copy the data from the next node over to the current node, and then to delete the next node. （不需要把删除节点之后的所有节点向前移动。）
</p>

<p>
This problem cannot be solved if the node to be deleted is the last node in the linked list.
</p>
</div>
</div>
<div id="outline-container-sec-10-4" class="outline-3">
<h3 id="sec-10-4"><span class="section-number-3">10.4</span> Question: Partition</h3>
<div class="outline-text-3" id="text-10-4">
<div class="org-quote-container">
<blockquote>
<p>
Partition a linked list around a value <code>x</code>, such that all nodes less than <code>x</code> come before all nodes greater than or equal to <code>x</code>.
</p>

<p>
E.g., <code>x = 5</code> <br  />
Input:  <code>3 -&gt; 5 -&gt; 8 -&gt; 5 -&gt; 10 -&gt; 2 -&gt; 1</code> <br  />
Output: <code>3 -&gt; 1 -&gt; 2 -&gt; 10 -&gt; 5 -&gt; 5 -&gt; 8</code>
</p>
</blockquote>
</div>

<p>
<span class="underline">Array shifts are very expensive.</span> Shifting elements in linked list is much easier.
</p>

<p>
Create 2 linked lists: one for elements less than <code>x</code>, and one for elements greater than or equal to <code>x</code>. Then join 2 lists together.
</p>
</div>
</div>
<div id="outline-container-sec-10-5" class="outline-3">
<h3 id="sec-10-5"><span class="section-number-3">10.5</span> Question: Palindrome</h3>
<div class="outline-text-3" id="text-10-5">
<div class="org-quote-container">
<blockquote>
<p>
Check if a linked list is a palindrome.
</p>
</blockquote>
</div>
</div>

<div id="outline-container-sec-10-5-1" class="outline-4">
<h4 id="sec-10-5-1"><span class="section-number-4">10.5.1</span> Reverse</h4>
<div class="outline-text-4" id="text-10-5-1">
<p>
Reverse the linked list and compare the reversed list to the original list. Only need to compare the first half of the list.
</p>
</div>
</div>
<div id="outline-container-sec-10-5-2" class="outline-4">
<h4 id="sec-10-5-2"><span class="section-number-4">10.5.2</span> Iterative</h4>
<div class="outline-text-4" id="text-10-5-2">
<p>
Push the first half of the elements onto a stack. Use the runner technique, push the data from the slow runner onto a stack. When the fast runner hits the end of the list, the slow runner will have reached the middle of the linked list.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-11" class="outline-2">
<h2 id="sec-11"><span class="section-number-2">11</span> Stacks and Queues</h2>
<div class="outline-text-2" id="text-11">
<p>
<span class="underline">A stack allows $O(1)$ time add and remove operations.</span>
</p>

<p>
<span class="underline">Stacks are often used in recursive algorithms</span>: push temporary data onto a stack as it recurses, and then remove them as it backtracks. A stack can also be used to <span class="underline">implement a recursive algorithm iteratively</span>.
</p>
</div>

<div id="outline-container-sec-11-1" class="outline-3">
<h3 id="sec-11-1"><span class="section-number-3">11.1</span> Implementing a Stack</h3>
<div class="outline-text-3" id="text-11-1">
<p>
A stack can be implemented with an array or a linked list.
</p>
</div>
</div>
<div id="outline-container-sec-11-2" class="outline-3">
<h3 id="sec-11-2"><span class="section-number-3">11.2</span> Implementing a Queue</h3>
<div class="outline-text-3" id="text-11-2">
<p>
A queue can be implemented with an arrary or a linked list.
</p>

<p>
<span class="underline">Queues are often used in breadth-first search or in implementing a cache.</span>
</p>
</div>
</div>
<div id="outline-container-sec-11-3" class="outline-3">
<h3 id="sec-11-3"><span class="section-number-3">11.3</span> Question: Stack Min</h3>
<div class="outline-text-3" id="text-11-3">
<div class="org-quote-container">
<blockquote>
<p>
Design a stack which, in addition to <code>push</code> and <code>pop</code>, has a function <code>min</code> which returns the minimum element. <code>push</code>, <code>pop</code> and <code>min</code> should all operate in $O(1)$ time.
</p>
</blockquote>
</div>

<p>
Keep track of the minimum at each state, having each node record what the minimum beneath itself is.
</p>

<p>
It may waste a lot of space if it is a large stack. An improvement is using an additional stack which keeps track of the <code>mins</code>:
</p>

<ul class="org-ul">
<li>When pushing to <code>s1</code>, if the value is smaller than the top of <code>s2</code>, push it into <code>s2</code>.
</li>
<li>When poping from <code>s1</code>, if the value equals to the top of <code>s2</code>, pop <code>s2</code> as well.
</li>
<li>The top of <code>s2</code> is the current minimum value.
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-11-4" class="outline-3">
<h3 id="sec-11-4"><span class="section-number-3">11.4</span> Question: Queue via Stack</h3>
<div class="outline-text-3" id="text-11-4">
<div class="org-quote-container">
<blockquote>
<p>
Implement a queue using two stacks.
</p>
</blockquote>
</div>

<p>
Use <code>s2</code> to reverse the order of the elements from <code>s1</code>. On each <code>peek()</code> and <code>pop()</code> operation, pop everything from <code>s1</code> onto <code>s2</code>, and then push everything back.
</p>

<p>
Improvement: implement a "lazy" approach where the elements sit in <code>s2</code> until the elements must be reversed (when <code>push()</code> into <code>s1</code>).
</p>
</div>
</div>
<div id="outline-container-sec-11-5" class="outline-3">
<h3 id="sec-11-5"><span class="section-number-3">11.5</span> Question: Animal Shelter</h3>
<div class="outline-text-3" id="text-11-5">
<div class="org-quote-container">
<blockquote>
<p>
An animal shelter, which holds only dogs andcats, operates on a strictly "first in, first
out" basis. People must adopt either the "oldest" (based on arrival time) of all animals at the shelter, or they can select whether they would prefer a dog or a cat (and will receive the oldest animal of that type). They cannot select which specifc animal they would like. Create the data structures to maintain this system and implement operations such as <code>enqueue</code>, <code>dequeueAny</code>, <code>dequeueDog</code>, and <code>dequeueCat</code>. You may use the built-in <code>LinkedList</code> data structure.
</p>
</blockquote>
</div>

<p>
Use separate queues for dogs and cats. Store a timestamp in each node to mark when each animal was enqueued. <code>dequeueAny</code> will peek at the heads of both the dog and cat queue and return the oldest.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-12" class="outline-2">
<h2 id="sec-12"><span class="section-number-2">12</span> Trees and Graphs</h2>
<div class="outline-text-2" id="text-12">
</div><div id="outline-container-sec-12-1" class="outline-3">
<h3 id="sec-12-1"><span class="section-number-3">12.1</span> Type of Trees</h3>
<div class="outline-text-3" id="text-12-1">
</div><div id="outline-container-sec-12-1-1" class="outline-4">
<h4 id="sec-12-1-1"><span class="section-number-4">12.1.1</span> Binary Search Tree</h4>
<div class="outline-text-4" id="text-12-1-1">
<p>
Under some definitions, a binary search tree cannot have duplicate values. In others, the duplicate values will be on the right or can be on either side. Clarify this with the interviewer.
</p>
</div>
</div>
<div id="outline-container-sec-12-1-2" class="outline-4">
<h4 id="sec-12-1-2"><span class="section-number-4">12.1.2</span> Balanced Tree</h4>
<div class="outline-text-4" id="text-12-1-2">
<p>
<span class="underline">A balanced tree means it's balanced enough to ensure $O(\log{N})$ time for <code>insert</code> and <code>find</code>.</span> Not all trees are balanced. Clarify this with the interviewer.
</p>

<p>
Two common types of balanced trees are red-black trees and AVL trees.
</p>
</div>
</div>
<div id="outline-container-sec-12-1-3" class="outline-4">
<h4 id="sec-12-1-3"><span class="section-number-4">12.1.3</span> Complete Binary Tree</h4>
<div class="outline-text-4" id="text-12-1-3">
<p>
A complete binary tree is a binary tree in which every level of the tree is fully filled, except for the last level. To the extent that the last level is filled, it is flled left to right.
</p>


<div class="figure">
<p><img src="../images/cracking_the_coding_interview/01.png" alt="01.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-12-1-4" class="outline-4">
<h4 id="sec-12-1-4"><span class="section-number-4">12.1.4</span> Full Binary Tree</h4>
<div class="outline-text-4" id="text-12-1-4">
<p>
A full binary tree is a binary tree in which every node has either zero or two children.
</p>


<div class="figure">
<p><img src="../images/cracking_the_coding_interview/02.png" alt="02.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-12-1-5" class="outline-4">
<h4 id="sec-12-1-5"><span class="section-number-4">12.1.5</span> Perfect Binary Trees</h4>
<div class="outline-text-4" id="text-12-1-5">
<p>
A perfect binary tree is one that is both full and complete.
</p>
</div>
</div>
</div>
<div id="outline-container-sec-12-2" class="outline-3">
<h3 id="sec-12-2"><span class="section-number-3">12.2</span> Binary Tree Traversal</h3>
<div class="outline-text-3" id="text-12-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>In-order traversal:</b></th>
<th scope="col" class="left">Left branch &rarr; Root &rarr; Right branch</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><b>Pre-order traversal:</b></td>
<td class="left">Root &rarr; Left branch &rarr; Right branch</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>Post-order traversal:</b></td>
<td class="left">Left branch &rarr; Right branch &rarr; Root</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-12-3" class="outline-3">
<h3 id="sec-12-3"><span class="section-number-3">12.3</span> Binary Heaps</h3>
<div class="outline-text-3" id="text-12-3">
<p>
A heap is a complete binary tree, where each node is smaller/bigger than its children. The root is the minimum/maximum node in the tree. 2 key operations on a heap: <span class="underline"><code>insert</code> and <code>extract</code>, both take $O(\log{N})$ time.</span>
</p>
</div>

<div id="outline-container-sec-12-3-1" class="outline-4">
<h4 id="sec-12-3-1"><span class="section-number-4">12.3.1</span> <code>insert</code></h4>
<div class="outline-text-4" id="text-12-3-1">
<ol class="org-ol">
<li>Insert the node at the bottom (at the rightmost spot to maintain the complete tree).
</li>
<li>Swap (bubble up) the node with its parent until the appropriate spot.
</li>
</ol>


<div class="figure">
<p><img src="../images/cracking_the_coding_interview/03.png" alt="03.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-12-3-2" class="outline-4">
<h4 id="sec-12-3-2"><span class="section-number-4">12.3.2</span> <code>extract</code></h4>
<div class="outline-text-4" id="text-12-3-2">
<ol class="org-ol">
<li>Remove the root node.
</li>
<li>Move the last (the bottommost, rightmost) node in the heap to root.
</li>
<li>Swap (bubble down) the root node with one of its children until the appropriate spot.
</li>
</ol>


<div class="figure">
<p><img src="../images/cracking_the_coding_interview/04.png" alt="04.png" />
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-12-4" class="outline-3">
<h3 id="sec-12-4"><span class="section-number-3">12.4</span> Tries</h3>
<div class="outline-text-3" id="text-12-4">
<p>
<span class="underline">A trie (sometimes called a prefx tree) is a tree in which characters are stored at each node. Each path down the tree may represent a word.</span> A node in a trie could have anywhere from 1 through ALPHABET_SIZE + 1 children (or, 0 through ALPHABET_SIZE if a boolean flag is used instead of a <code>*</code> node).
</p>

<p>
The <code>*</code> nodes (sometimes called "null nodes") are often used to indicate complete words. The actual implementation of <code>*</code> nodes might be a special type of child, or just a boolean flag terminates within the parent node.
</p>


<div class="figure">
<p><img src="../images/cracking_the_coding_interview/05.png" alt="05.png" />
</p>
</div>

<p>
Very commonly, <span class="underline">a trie is used for quick prefx lookups. Many problems involving lists of valid words leverage a trie as an optimization.</span> A trie can check if a string is a valid prefix in $O(K)$ time, where \(K\) is the length of the string. This is actually the same runtime as a hash table. <span class="underline">A hash table can quickly look up whether a string is a valid word, it cannot tell us if a string is a prefx of any valid words.</span>
</p>
</div>
</div>
<div id="outline-container-sec-12-5" class="outline-3">
<h3 id="sec-12-5"><span class="section-number-3">12.5</span> Graphs</h3>
<div class="outline-text-3" id="text-12-5">
<p>
A graph is a collection of nodes with edges. A tree is a connected graph without cycles.
</p>

<ul class="org-ul">
<li>A graph can be either directed or undirected.
</li>
<li>A graph can have cycles. An "acyclic graph" is one without cycles.
</li>
</ul>
</div>

<div id="outline-container-sec-12-5-1" class="outline-4">
<h4 id="sec-12-5-1"><span class="section-number-4">12.5.1</span> Adjacency List</h4>
<div class="outline-text-4" id="text-12-5-1">
<p>
Adjacenct list is the most common way to represent a graph: <span class="underline">every vertex (or node) stores a list of adjacent vertices.</span> In an undirected graph, an edge like <code>(a, b)</code> would be stored twice. The <code>Graph</code> class is used because, unlike in a tree, <span class="underline">it's not necessarily possible to reach all the nodes from a single node.</span>
</p>

<div class="org-src-container">

<pre class="src src-java"><span class="org-keyword">class</span> <span class="org-type">Graph</span> {
    <span class="org-keyword">public</span> <span class="org-type">Node</span>[] <span class="org-variable-name">nodes</span>;
}

<span class="org-keyword">class</span> <span class="org-type">Node</span> {
    <span class="org-keyword">public</span> <span class="org-type">String</span> <span class="org-variable-name">name</span>;
    <span class="org-keyword">public</span> <span class="org-type">Node</span>[] <span class="org-variable-name">children</span>;
}
</pre>
</div>

<p>
An array (or a hash table) of lists (arrays, arraylists, linked lists, etc.) can store the adjacency list. It is a bit more compact, but it isn't quite as clean. Use node classes unless there's a compelling reason not to.
</p>

<div class="org-src-container">

<pre class="src src-code">0: 1
1: 2
2: 0, 3
3: 2
4: 6
5: 4
6: 5
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-12-5-2" class="outline-4">
<h4 id="sec-12-5-2"><span class="section-number-4">12.5.2</span> Adjacency Matrix</h4>
<div class="outline-text-4" id="text-12-5-2">
<p>
<span class="underline">An adjacency matrix is an <code>NxN</code> boolean matrix, where a <code>true</code> value at <code>matrix[i][j]</code> indicates an edge from node <code>i</code> to node <code>j</code>.</span> In an undirected graph, an adjacency matrix will be symmetric.
</p>


<div class="figure">
<p><img src="../images/cracking_the_coding_interview/06.png" alt="06.png" />
</p>
</div>

<p>
<span class="underline">The adjacency list is easier to iterate through the neighbors of a node. The adjacency matrix needs to iterate through all the nodes to identify a node's neighbors.</span>
</p>
</div>
</div>
</div>
<div id="outline-container-sec-12-6" class="outline-3">
<h3 id="sec-12-6"><span class="section-number-3">12.6</span> Graph Search</h3>
<div class="outline-text-3" id="text-12-6">
<p>
The two most common ways to search a graph are DFS and BFS. <span class="underline">DFS is often preferred to visit every node in the graph. BFS is generally better to find the path between two nodes.</span>
</p>
</div>

<div id="outline-container-sec-12-6-1" class="outline-4">
<h4 id="sec-12-6-1"><span class="section-number-4">12.6.1</span> DFS</h4>
<div class="outline-text-4" id="text-12-6-1">
<p>
Tree traveral is a form of DFS. The difference is that when implementing this algorithm for a graph, it <span class="underline">must check if the node has been visited, to avoid infinite loop.</span>
</p>

<div class="org-src-container">

<pre class="src src-java"><span class="org-type">void</span> <span class="org-function-name">search</span>(<span class="org-type">Node</span> <span class="org-variable-name">root</span>) {
    <span class="org-keyword">if</span> (root == <span class="org-constant">null</span>) <span class="org-keyword">return</span>;
    visit(root); <span class="org-comment-delimiter">// </span><span class="org-comment">Node checking</span>
    root.visited = <span class="org-constant">true</span>;
    <span class="org-keyword">for</span> each (Node n <span class="org-type">in</span> root.<span class="org-variable-name">adjacent</span>) {
        <span class="org-keyword">if</span> (n.visited == <span class="org-constant">false</span>) {
            search(n);
        }
    }
}
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-12-6-2" class="outline-4">
<h4 id="sec-12-6-2"><span class="section-number-4">12.6.2</span> BFS</h4>
<div class="outline-text-4" id="text-12-6-2">
<p>
BFS uses a queue instead of recursion.
</p>

<div class="org-src-container">

<pre class="src src-java"><span class="org-type">void</span> <span class="org-function-name">search</span>(<span class="org-type">Node</span> <span class="org-variable-name">root</span>) {
    <span class="org-type">Queue</span> <span class="org-variable-name">queue</span> = <span class="org-keyword">new</span> <span class="org-type">Queue</span>();
    root.marked = <span class="org-constant">true</span>;
    queue.enqueue(root);

    <span class="org-keyword">while</span> (<span class="org-negation-char">!</span>queue.isEmpty()) {
        <span class="org-type">Node</span> <span class="org-variable-name">r</span> = queue.dequeue();
        visit(r);
        foreach (Node n <span class="org-type">in</span> r.<span class="org-variable-name">adjacent</span>) {
            <span class="org-keyword">if</span> (n.marked == <span class="org-constant">false</span>) {
                n.marked = <span class="org-constant">true</span>;
                queue.enqueue(n);
            }
        }
    }
}
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-12-6-3" class="outline-4">
<h4 id="sec-12-6-3"><span class="section-number-4">12.6.3</span> Bidirectional Search</h4>
<div class="outline-text-4" id="text-12-6-3">
<p>
Bidirectional search is used to find the shortest path between a source and destination node. <span class="underline">It means running 2 simultaneous BFS, one from each node. When the searches collide, a path is found.</span>
</p>


<div class="figure">
<p><img src="../images/cracking_the_coding_interview/07.png" alt="07.png" />
</p>
</div>

<p>
Consider a graph where every node has at most \(k\) adjacent nodes and the shortest path from node <code>s</code> to node <code>t</code> has length \(d\).
</p>

<ul class="org-ul">
<li>In traditional BFS, the runtime is $O(k^d)$.
</li>
<li>In bidirectional search, the 2 searches collide after $\frac{d}{2}$ levels, so the runtime is $O(k^{\frac{d}{2}})$.
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-12-7" class="outline-3">
<h3 id="sec-12-7"><span class="section-number-3">12.7</span> Question: Check Balanced</h3>
<div class="outline-text-3" id="text-12-7">
<div class="org-quote-container">
<blockquote>
<p>
Check if a binary tree is balanced. A balanced tree is defined to be a tree such that the heights of the two subtrees of any node never differ by more than one.
</p>
</blockquote>
</div>

<p>
We can recurse through the entire tree, and for each node, compute the heights of each subtree. The algorithm is $O(N \log{N})$ since each node is "touched" once per node above it.
</p>

<p>
To improve, check if the tree is balanced at the same time as checking heights. Return an error code (e.g. <code>Integer.MIN_VALUE</code>) when a subtree isn't balanced.
</p>

<div class="org-src-container">

<pre class="src src-java"><span class="org-type">int</span> <span class="org-function-name">checkHeight</span>(<span class="org-type">TreeNode</span> <span class="org-variable-name">root</span>) {
    <span class="org-keyword">if</span> (root == <span class="org-constant">null</span>) <span class="org-keyword">return</span> -1;

    <span class="org-type">int</span> <span class="org-variable-name">leftHeight</span> = checkHeight(root.left);
    <span class="org-keyword">if</span> (leftHeight == <span class="org-constant">Integer</span>.MIN_VALUE) <span class="org-keyword">return</span> <span class="org-constant">Integer</span>.MIN_VALUE; <span class="org-comment-delimiter">// </span><span class="org-comment">Pass error up</span>

    <span class="org-type">int</span> <span class="org-variable-name">rightHeight</span> = checkHeight(root.right);
    <span class="org-keyword">if</span> (rightHeight == <span class="org-constant">Integer</span>.MIN_VALUE) <span class="org-keyword">return</span> <span class="org-constant">Integer</span>.MIN_VALUE; <span class="org-comment-delimiter">// </span><span class="org-comment">Pass error up</span>

    <span class="org-type">int</span> <span class="org-variable-name">heightDiff</span> = leftHeight - rightHeight;
    <span class="org-keyword">if</span> (Math.abs(heightDiff) &gt; 1) {
        <span class="org-keyword">return</span> <span class="org-constant">Integer</span>.MIN_VALUE; <span class="org-comment-delimiter">// </span><span class="org-comment">Pass error up</span>
    } <span class="org-keyword">else</span> {
        <span class="org-keyword">return</span> Math.max(leftHeight, rightHeight) + 1;
    }
}

<span class="org-type">boolean</span> <span class="org-function-name">isBalanced</span>(<span class="org-type">TreeNode</span> <span class="org-variable-name">root</span>) {
    <span class="org-keyword">return</span> checkHeight(root) != <span class="org-constant">Integer</span>.MIN_VALUE;
}
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-12-8" class="outline-3">
<h3 id="sec-12-8"><span class="section-number-3">12.8</span> Question: Validate BST</h3>
<div class="outline-text-3" id="text-12-8">
<div class="org-quote-container">
<blockquote>
<p>
Check if a binary tree is a binary search tree.
</p>
</blockquote>
</div>
</div>

<div id="outline-container-sec-12-8-1" class="outline-4">
<h4 id="sec-12-8-1"><span class="section-number-4">12.8.1</span> Solution: In-Order Traversal</h4>
<div class="outline-text-4" id="text-12-8-1">
<p>
Do an in-order traversal, copy the elements to an array, and then check to see
if the array is sorted.
</p>

<p>
The problem is that it can't handle duplicate values. If we assume that the tree cannot have duplicate values, then this approach works.
</p>

<p>
The array is not actually necessary. It only needs to track the last element and compare it as it goes.
</p>

<div class="org-src-container">

<pre class="src src-java"><span class="org-type">Integer</span> <span class="org-variable-name">last_printed</span> = <span class="org-constant">null</span>; <span class="org-comment-delimiter">// </span><span class="org-comment">Static variable</span>
<span class="org-type">boolean</span> <span class="org-function-name">checkBST</span>(<span class="org-type">TreeNode</span> <span class="org-variable-name">n</span>) {
    <span class="org-keyword">if</span> (n == <span class="org-constant">null</span>) <span class="org-keyword">return</span> <span class="org-constant">true</span>;

    <span class="org-comment-delimiter">// </span><span class="org-comment">Recurse left</span>
    <span class="org-keyword">if</span> (<span class="org-negation-char">!</span>checkBST(n.left)) <span class="org-keyword">return</span> <span class="org-constant">false</span>;

    <span class="org-comment-delimiter">// </span><span class="org-comment">Check current</span>
    <span class="org-keyword">if</span> (last_printed != <span class="org-constant">null</span> &amp;&amp; n.data &lt;= last_printed) {
        <span class="org-keyword">return</span> <span class="org-constant">false</span>;
    }
    last_printed = n.data;

    <span class="org-comment-delimiter">// </span><span class="org-comment">Recurse right</span>
    <span class="org-keyword">if</span> (<span class="org-negation-char">!</span>checkBST(n.right)) <span class="org-keyword">return</span> <span class="org-constant">false</span>;

    <span class="org-keyword">return</span> <span class="org-constant">true</span>;
}
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-12-9" class="outline-3">
<h3 id="sec-12-9"><span class="section-number-3">12.9</span> Question: Build Order (Incomplete)</h3>
<div class="outline-text-3" id="text-12-9">
<div class="org-quote-container">
<blockquote>
<p>
There is a list of projects and a list of dependencies (pairs of projects, where the second project is dependent on the first project). All of a project's dependencies must be built before the project is. Find a build order that will allow the projects to be built. If there is no valid build order, return an error.
</p>

<p>
Projects: <code>a, b, c, d, e, f</code> <br  />
Dependencies: <code>(a, d), (f, b), (b, d), (f, a), (d, c)</code> <br  />
Output: <code>f, e, a, b, d, c</code>
</p>
</blockquote>
</div>
</div>
</div>
<div id="outline-container-sec-12-10" class="outline-3">
<h3 id="sec-12-10"><span class="section-number-3">12.10</span> Question: First Common Ancestor (Incomplete)</h3>
<div class="outline-text-3" id="text-12-10">
<div class="org-quote-container">
<blockquote>
<p>
Find the first common ancestor of 2 nodes in a binary tree. Avoid storing additional nodes in a data structure. NOTE: This is not necessarily a binary search tree.
</p>
</blockquote>
</div>
</div>
</div>
<div id="outline-container-sec-12-11" class="outline-3">
<h3 id="sec-12-11"><span class="section-number-3">12.11</span> Question: BST Sequences (Incomplete)</h3>
<div class="outline-text-3" id="text-12-11">
<div class="org-quote-container">
<blockquote>
<p>
A binary search tree was created by traversing through an array from left to right and inserting each element. Given a binary search tree with distinct elements, print all possible arrays that could have led to this tree.
</p>
</blockquote>
</div>
</div>
</div>
<div id="outline-container-sec-12-12" class="outline-3">
<h3 id="sec-12-12"><span class="section-number-3">12.12</span> Question: Check Subtree (Incomplete)</h3>
<div class="outline-text-3" id="text-12-12">
<div class="org-quote-container">
<blockquote>
<p>
T1 and T2 are two very large binary trees, with T1 much bigger than T2. Create an algorithm to determine if T2 is a subtree of T1. A tree T2 is a subtree of T1 if there exists a node <code>n</code> in T1 such that the subtree of <code>n</code> is identical to T2.
</p>
</blockquote>
</div>
</div>
</div>
<div id="outline-container-sec-12-13" class="outline-3">
<h3 id="sec-12-13"><span class="section-number-3">12.13</span> Question: Random Node (Incomplete)</h3>
<div class="outline-text-3" id="text-12-13">
<div class="org-quote-container">
<blockquote>
<p>
Implement a binary search tree from scratch, which, in addition to <code>insert</code>, <code>find</code>, and <code>delete</code>, has a method <code>getRandomNode()</code> which returns a random node from the tree. All nodes should be equally likely to be chosen.
</p>
</blockquote>
</div>
</div>
</div>
<div id="outline-container-sec-12-14" class="outline-3">
<h3 id="sec-12-14"><span class="section-number-3">12.14</span> Question: Paths with Sum (Incomplete)</h3>
<div class="outline-text-3" id="text-12-14">
<div class="org-quote-container">
<blockquote>
<p>
Given a binary tree in which each node contains an integer value (positive or negative). Count the number of paths that sum to a given value. The path does not need to start or end at the root or a leaf, but it must go downwards (traveling only from parent nodes to child nodes).
</p>
</blockquote>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-13" class="outline-2">
<h2 id="sec-13"><span class="section-number-2">13</span> Bit Manipulation</h2>
<div class="outline-text-2" id="text-13">
</div><div id="outline-container-sec-13-1" class="outline-3">
<h3 id="sec-13-1"><span class="section-number-3">13.1</span> Bit Facts and Tricks</h3>
<div class="outline-text-3" id="text-13-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><code>x &amp; 0 = 0</code></th>
<th scope="col" class="left"><code>x &#124; 0 = x</code></th>
<th scope="col" class="left"><code>x ^ 0 = x</code></th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>x &amp; 1 = x</code></td>
<td class="left"><code>x &#124; 1 = 1</code></td>
<td class="left"><code>x ^ 1 = ~x</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>x &amp; x = x</code></td>
<td class="left"><code>x &#124; x = x</code></td>
<td class="left"><code>x ^ x = 0</code></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-13-2" class="outline-3">
<h3 id="sec-13-2"><span class="section-number-3">13.2</span> Two's Complement and Negative Numbers</h3>
<div class="outline-text-3" id="text-13-2">
<p>
The two's complement of an N-bit number is the complement of the number with respect to $2^N$. The binary representation of $-K$ as a N-bit number is $concat(1, 2^{N-1} - K)$. Another way to look at this is to invert the bits in the positive representation and then add 1.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="right" />

<col  class="left" />

<col  class="right" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="right">7</th>
<th scope="col" class="left"><code>0 111</code></th>
<th scope="col" class="right">-1</th>
<th scope="col" class="left"><code>1 111</code></th>
</tr>
</thead>
<tbody>
<tr>
<td class="right">6</td>
<td class="left"><code>0 110</code></td>
<td class="right">-2</td>
<td class="left"><code>1 110</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">5</td>
<td class="left"><code>0 101</code></td>
<td class="right">-3</td>
<td class="left"><code>1 101</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">4</td>
<td class="left"><code>0 100</code></td>
<td class="right">-4</td>
<td class="left"><code>1 100</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">3</td>
<td class="left"><code>0 011</code></td>
<td class="right">-5</td>
<td class="left"><code>1 011</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">2</td>
<td class="left"><code>0 010</code></td>
<td class="right">-6</td>
<td class="left"><code>1 010</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">1</td>
<td class="left"><code>0 001</code></td>
<td class="right">-7</td>
<td class="left"><code>1 001</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">0</td>
<td class="left"><code>0 000</code></td>
<td class="right">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-13-3" class="outline-3">
<h3 id="sec-13-3"><span class="section-number-3">13.3</span> Arithmetic vs. Logical Right Shift</h3>
<div class="outline-text-3" id="text-13-3">
<p>
<span class="underline">The arithmetic right shift (<code>&gt;&gt;</code>) essentially divides by 2.</span> After shifting a bit to the right, fill in the left most bit with the value of the sign bit.
</p>


<div class="figure">
<p><img src="../images/cracking_the_coding_interview/09.png" alt="09.png" />
</p>
<p><span class="figure-number">Figure 1:</span> Arithmetic right shift</p>
</div>

<p>
<span class="underline">The logical right shift (<code>&gt;&gt;&gt;</code>) simply shifts the bits</span> and put <code>0</code> in the most signifcant bits.
</p>


<div class="figure">
<p><img src="../images/cracking_the_coding_interview/08.png" alt="08.png" />
</p>
<p><span class="figure-number">Figure 2:</span> Logical right shift</p>
</div>
</div>
</div>
<div id="outline-container-sec-13-4" class="outline-3">
<h3 id="sec-13-4"><span class="section-number-3">13.4</span> Common Bit Tasks</h3>
<div class="outline-text-3" id="text-13-4">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">Get bit</th>
<th scope="col" class="left">1. Shift <code>1</code> over by <code>i</code> bits (e.g. <code>00010000</code>)</th>
<th scope="col" class="left"><code>return ((num &amp; (1 &lt;&lt; i)) != 0);</code></th>
</tr>

<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">2. <code>AND</code> with target to clear all bits other than <code>i</code></th>
<th scope="col" class="left">&#xa0;</th>
</tr>

<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">3. Compare result with <code>0</code></th>
<th scope="col" class="left">&#xa0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">Set <code>1</code></td>
<td class="left">1. Shift <code>1</code> over by <code>i</code> bits (e.g. <code>00010000</code>)</td>
<td class="left"><code>return num &#124; (1 << i);</code></td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">2. <code>OR</code> with target</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">Set <code>0</code></td>
<td class="left">1. Shift <code>1</code> over by <code>i</code> bits (e.g. <code>00010000</code>)</td>
<td class="left"><code>return num &amp; (~(1 &lt;&lt; i));</code></td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">2. Negate to get the reverse (e.g. <code>11101111</code>)</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">3. <code>AND</code> with target</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">Set <code>0</code> on left</td>
<td class="left">1. Shift <code>1</code> over by <code>i</code> bits (e.g. <code>00010000</code>)</td>
<td class="left"><code>return num &amp; ((1 &lt;&lt; i) - 1);</code></td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">2. Substract <code>1</code> (e.g. <code>00001111</code>)</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">3. <code>AND</code> with target</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">Set <code>0</code> on right</td>
<td class="left">1. Shift <code>-1</code> over by <code>i</code> bits (e.g. <code>11110000</code>)</td>
<td class="left"><code>return num &amp; (-1 &lt;&lt; i);</code></td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">2. <code>AND</code> with target</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">Set <code>0</code> or <code>1</code></td>
<td class="left">1. Set the bit as <code>0</code> as above</td>
<td class="left"><code>return (num & (~(1 << i))) &#124; (v << i);</code></td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">2. Shift the value (<code>0</code> or <code>1</code>) by <code>i</code> bits</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">3. <code>OR</code> with target</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-13-5" class="outline-3">
<h3 id="sec-13-5"><span class="section-number-3">13.5</span> Question: Binary to String</h3>
<div class="outline-text-3" id="text-13-5">
<div class="org-quote-container">
<blockquote>
<p>
Given a real number between 0 and 1 that is passed in as a double, print the binary representation. If the number cannot be represented accurately in binarywith at most 32 characters, print "ERROR".
</p>
</blockquote>
</div>

<p>
To represent a non-integer number in binary:
</p>

<p>
$$0.101_2 = 1 \times \frac{1}{2^1} + 0 \times \frac{1}{2^2} + 1 \times \frac{1}{2^3}$$
</p>

<p>
To print the decimal part, multiply by 2 and check if 2n is greater than or equal to 1. This is essentially "shifing" the fractional sum. 
</p>
</div>
</div>
<div id="outline-container-sec-13-6" class="outline-3">
<h3 id="sec-13-6"><span class="section-number-3">13.6</span> Question: Flip Bit to Win (Incomplete)</h3>
<div class="outline-text-3" id="text-13-6">
<div class="org-quote-container">
<blockquote>
<p>
There is an integer and you can flip exactly one bit from a <code>O</code> to a <code>1</code>. Find the length of the longest sequence of <code>1</code> could be created.
</p>

<p>
Input: 1775 (<code>11011101111</code>) <br  />
Output: 8
</p>
</blockquote>
</div>
</div>
</div>
<div id="outline-container-sec-13-7" class="outline-3">
<h3 id="sec-13-7"><span class="section-number-3">13.7</span> Question: Next Number (Incomplete)</h3>
<div class="outline-text-3" id="text-13-7">
<div class="org-quote-container">
<blockquote>
<p>
Given a positive integer, print the 2 numbers (1 bigger and 1 smaller) closest to it with the same number of <code>1</code> in their binary representation.
</p>
</blockquote>
</div>
</div>
</div>
<div id="outline-container-sec-13-8" class="outline-3">
<h3 id="sec-13-8"><span class="section-number-3">13.8</span> Question: Conversion</h3>
<div class="outline-text-3" id="text-13-8">
<div class="org-quote-container">
<blockquote>
<p>
Determine the number of bits needed to flip to convert integer A to integer B.
</p>

<p>
Input: 29 (<code>11101</code>), 15 (<code>01111</code>)
Output: 2
</p>
</blockquote>
</div>

<p>
<span class="underline">Each <code>1</code> in the result of <code>XOR</code> represents a bit that is different between A and B.</span>
</p>

<p>
<span class="underline"><code>c = c &amp; (c - 1)</code> will clear the least significant bit in <code>c</code>.</span>
</p>
</div>
</div>
<div id="outline-container-sec-13-9" class="outline-3">
<h3 id="sec-13-9"><span class="section-number-3">13.9</span> Question: Pairwise Swap</h3>
<div class="outline-text-3" id="text-13-9">
<div class="org-quote-container">
<blockquote>
<p>
Write a program to swap odd and even bits in an integer with as few instructions as possible (e.g., bit 0 and bit <code>1</code> are swapped, bit 2 and bit 3 are swapped, and so on).
</p>
</blockquote>
</div>

<p>
Get all the odd bits by a mask, then shift them right by 1 to put them in the even spots. Then do the opposite for all the even bits.
</p>

<div class="org-src-container">

<pre class="src src-java"><span class="org-type">int</span> <span class="org-function-name">swap</span>(<span class="org-type">int</span> <span class="org-variable-name">x</span>) {
    <span class="org-keyword">return</span> (((x &amp; 0xaaaaaaaa) &gt;&gt;&gt; 1) | ((x &amp; 0x55555555) &lt;&lt; 1));
}
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-13-10" class="outline-3">
<h3 id="sec-13-10"><span class="section-number-3">13.10</span> Question: Draw Line (Incomplete)</h3>
<div class="outline-text-3" id="text-13-10">
<div class="org-quote-container">
<blockquote>
<p>
A monochrome screen is stored as a single array of bytes, allowing 8 consecutive pixels to be stored in 1 byte. The screen has width <code>w</code>, where <code>w</code> is divisible by 8. The height of the screen can be derived from the length of the array and the width. Implement a function that draws a horizontal line from <code>(x1, y)</code> to <code>(x2, y)</code>. The method signature should look something like: <br  />
<code>drawLine(byte[] screen, int width, int x1, int x2, int y)</code>
</p>
</blockquote>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-14" class="outline-2">
<h2 id="sec-14"><span class="section-number-2">14</span> Math and Logic Puzzles</h2>
<div class="outline-text-2" id="text-14">
</div><div id="outline-container-sec-14-1" class="outline-3">
<h3 id="sec-14-1"><span class="section-number-3">14.1</span> Prime Numbers</h3>
<div class="outline-text-3" id="text-14-1">
</div><div id="outline-container-sec-14-1-1" class="outline-4">
<h4 id="sec-14-1-1"><span class="section-number-4">14.1.1</span> Divisibility</h4>
<div class="outline-text-4" id="text-14-1-1">
<p>
$$x = 2^{j0} \times 3^{j1} \times 5^{j2} \times 7^{j3} \times \ldots$$
$$y = 2^{k0} \times 3^{k1} \times 5^{k2} \times 7^{k3} \times \ldots$$
</p>

<p>
In order for a number \(x\) to divide a number \(y\), all primes in \(x\)'s prime factorization must be in \(y\)'s prime factorization: $j0 \leq k0, j1 \leq k1 \ldots$ And the greates common divisor (GCD) and least common multiple (LCM) of \(x\) and \(y\):
</p>

<p>
$$\text{gcd}(x, y) = 2^{\text{min}(j0, k0)} \times 3^{\text{min}(j1, k1)} \times 5^{\text{min}(j2, k2)} \times \ldots$$
$$\text{lcm}(x, y) = 2^{\text{max}(j0, k0)} \times 3^{\text{max}(j1, k1)} \times 5^{\text{max}(j2, k2)} \times \ldots$$
$$\text{gcd}(x, y) \times \text{lcm}(x, y) = x \times y$$
</p>
</div>
</div>
<div id="outline-container-sec-14-1-2" class="outline-4">
<h4 id="sec-14-1-2"><span class="section-number-4">14.1.2</span> Generating a List of Primes: The Sieve of Eratosthenes</h4>
<div class="outline-text-4" id="text-14-1-2">
<p>
The Sieve of Eratosthenes is a highly efficient way to generate a list of primes. It works by recognizing that all non-prime numbers are divisible by a prime number. By <span class="underline">crossing off all numbers divisible by 2, 3, 5, 7, 11 and so on</span>, the result is a list of prime numbers from 2 through <code>max</code>.
</p>

<p>
<span class="underline">Use only odd numbers</span> in the array would reduce space usage by half.
</p>
</div>
</div>
</div>
<div id="outline-container-sec-14-2" class="outline-3">
<h3 id="sec-14-2"><span class="section-number-3">14.2</span> Probability</h3>
<div class="outline-text-3" id="text-14-2">
<p>
$$P(A \bigcap B) = P(B \mid A)P(A)$$
$$P(A \bigcup B) = P(A) + P(B) - P(A \bigcap B)$$
</p>
</div>

<div id="outline-container-sec-14-2-1" class="outline-4">
<h4 id="sec-14-2-1"><span class="section-number-4">14.2.1</span> Independence</h4>
<div class="outline-text-4" id="text-14-2-1">
<p>
If A and B are independent (one happening tells you nothing about the other), therefore $P(B \mid A) = P(B)$, since A indicates nothing about B, so:
</p>

<p>
$$P(A \bigcap B) = P(B \mid A)P(A) = P(B)P(A)$$
</p>
</div>
</div>
<div id="outline-container-sec-14-2-2" class="outline-4">
<h4 id="sec-14-2-2"><span class="section-number-4">14.2.2</span> Mutual Exclusivity</h4>
<div class="outline-text-4" id="text-14-2-2">
<p>
If A and B are mutually exclusive (if one happens, then the other cannot happen), therefore $P(A \bigcap B) = 0$, so:
</p>

<p>
$$P(A \bigcup B) = P(A) + P(B) - P(A \bigcap B) = P(A) + P(B)$$
</p>

<p>
<span class="underline">Two events cannot be both independent and mutually exclusive (provided both have probabilities greater than 0).</span>
</p>


<div class="figure">
<p><img src="../images/cracking_the_coding_interview/10.jpg" alt="10.jpg" />
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-14-3" class="outline-3">
<h3 id="sec-14-3"><span class="section-number-3">14.3</span> Question: The Egg Drop Problem (Incomplete)</h3>
<div class="outline-text-3" id="text-14-3">
<div class="org-quote-container">
<blockquote>
<p>
There is a building of 100 floors. If an egg drops from the N-th floor or above, it will break. If it's dropped from any floor below, it will not break.You're given two eggs. Find N, while minimizing the number of drops for the worst case.
</p>
</blockquote>
</div>
</div>
</div>
<div id="outline-container-sec-14-4" class="outline-3">
<h3 id="sec-14-4"><span class="section-number-3">14.4</span> Question: 100 Lockers</h3>
<div class="outline-text-3" id="text-14-4">
<div class="org-quote-container">
<blockquote>
<p>
There are 100 closed lockers in a hallway. First opening all 100 lockers. Next, close every second locker. Then, toggle every third locker (closes it if it is open or opens it if it is closed). This process continues for 100 passes, such that on each pass <code>i</code>, toggle every <code>i</code>-th locker. After 100th pass, how many lockers are open?
</p>
</blockquote>
</div>

<p>
Pair a number's factors by their complements, For example, 36's factors are <code>(1, 36), (2, 18), (3, 12), (4, 9), (6, 6)</code>. Note that <code>(6, 6)</code> only contributes one factor, therefore <span class="underline">the number of distinct factors is odd only when the number is square.</span>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-15" class="outline-2">
<h2 id="sec-15"><span class="section-number-2">15</span> Object-Oriented Design (Incomplete)</h2>
<div class="outline-text-2" id="text-15">
</div><div id="outline-container-sec-15-1" class="outline-3">
<h3 id="sec-15-1"><span class="section-number-3">15.1</span> How to Approach</h3>
<div class="outline-text-3" id="text-15-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>Step 1: Handle Ambiguity</b></th>
<th scope="col" class="left">Object-oriented design questions are often intentionally vague in order to test</th>
</tr>

<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">whether the interviewee makes assumptions or asks clarifing questions.</th>
</tr>

<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">&#x2013; Who is going to use it?</th>
</tr>

<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">&#x2013; How are they going to use it?</th>
</tr>

<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">&#x2013; How general should the design be?</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><b>Step 2: Define Core Objects</b></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>Step 3: Analyze Relationships</b></td>
<td class="left">&#x2013; Which objects are members of which other objects?</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#x2013; Do any objects inherit from any others?</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#x2013; Are relationships many-to-many or one-to-many?</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>Step 4: Investigate Actions</b></td>
<td class="left">Consider the key actions and how they relate to each other.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-15-2" class="outline-3">
<h3 id="sec-15-2"><span class="section-number-3">15.2</span> Design Patterns</h3>
<div class="outline-text-3" id="text-15-2">
<p>
Don't fall into a trap of constantly trying to fnd the "right" design pattern for a particular problem. <span class="underline">Create the design that works for that problem. In some cases it might be an established pattern, but in many other cases it is not.</span>
</p>
</div>
</div>
</div>
<div id="outline-container-sec-16" class="outline-2">
<h2 id="sec-16"><span class="section-number-2">16</span> Recursion and Dynamic Programming</h2>
<div class="outline-text-2" id="text-16">
</div><div id="outline-container-sec-16-1" class="outline-3">
<h3 id="sec-16-1"><span class="section-number-3">16.1</span> How to Approach</h3>
<div class="outline-text-3" id="text-16-1">
<p>
Recursive solutions are built off of solutions to subproblems:
</p>

<ul class="org-ul">
<li><span class="underline">Compute $f(n)$ by adding, removing, or changing the solution for $f(n-1)$.</span>
</li>
<li><span class="underline">Solve the problem for the frst half of the data set, then the second half, and then merge those results.</span>
</li>
</ul>

<p>
3 of the most common approaches to develop an algorithm are:
</p>

<ul class="org-ul">
<li>Bottom-up
</li>
<li>Top-down
</li>
<li>Half-and-half
</li>
</ul>
</div>

<div id="outline-container-sec-16-1-1" class="outline-4">
<h4 id="sec-16-1-1"><span class="section-number-4">16.1.1</span> Bottom-Up Approach</h4>
<div class="outline-text-4" id="text-16-1-1">
<ul class="org-ul">
<li>Start with knowing how to solve the problem for a simple case.
</li>
<li>Then figure out how to solve the problem for 2 elements, then for 3 elements, and so on.
</li>
</ul>

<p>
The key is how to <span class="underline">build the solution for one case off of the previous case_(or multiple previous cases).</span>
</p>
</div>
</div>
<div id="outline-container-sec-16-1-2" class="outline-4">
<h4 id="sec-16-1-2"><span class="section-number-4">16.1.2</span> Top-Down Approach</h4>
<div class="outline-text-4" id="text-16-1-2">
<p>
Think about how to <span class="underline">divide the problem into subproblems</span>. Be careful of overlap between the cases.
</p>
</div>
</div>
</div>
<div id="outline-container-sec-16-2" class="outline-3">
<h3 id="sec-16-2"><span class="section-number-3">16.2</span> Recursive vs. Iterative Solutions</h3>
<div class="outline-text-3" id="text-16-2">
<p>
Al recursive algorithms can be implemented iteratively, although sometimes the code to do so is much more complex.
</p>
</div>
</div>
<div id="outline-container-sec-16-3" class="outline-3">
<h3 id="sec-16-3"><span class="section-number-3">16.3</span> Dynamic Programming &amp; Memoization</h3>
<div class="outline-text-3" id="text-16-3">
<p>
Dynamic programming is mostly a matter of taking a recursive algorithm and <span class="underline">finding the overlapping subproblems (repeated calls), then cache those results for future recursive calls.</span>
</p>
</div>

<div id="outline-container-sec-16-3-1" class="outline-4">
<h4 id="sec-16-3-1"><span class="section-number-4">16.3.1</span> Example: Fibonacci Numbers</h4>
<div class="outline-text-4" id="text-16-3-1">
</div><ol class="org-ol"><li>Without Dynamic Programming<br  /><div class="outline-text-5" id="text-16-3-1-1">
<div class="org-src-container">

<pre class="src src-java"><span class="org-type">int</span> <span class="org-function-name">fibonacci</span>(<span class="org-type">int</span> <span class="org-variable-name">i</span>) {
    <span class="org-keyword">if</span> (i == 0) <span class="org-keyword">return</span> 0;
    <span class="org-keyword">if</span> (i == 1) <span class="org-keyword">return</span> 1;
    <span class="org-keyword">return</span> fibonacci(i - 1) + fibonacci(i - 2);
}
</pre>
</div>


<div class="figure">
<p><img src="../images/cracking_the_coding_interview/11.png" alt="11.png" />
</p>
<p><span class="figure-number">Figure 3:</span> Recursion tree</p>
</div>

<p>
$O(2^n)$ nodes gives a runtime of roughly $O(2^n)$.
</p>
</div>
</li>
<li>Top-down Dynamic Programming (Memoization)<br  /><div class="outline-text-5" id="text-16-3-1-2">
<div class="org-src-container">
<label class="org-src-name">Each time computing $fib(i)$, cache the result and use it later.</label>
<pre class="src src-java"><span class="org-type">int</span> <span class="org-function-name">fibonacci</span>(<span class="org-type">int</span> <span class="org-variable-name">n</span>) {
    <span class="org-keyword">return</span> fibonacci(n, <span class="org-keyword">new</span> <span class="org-type">int</span>[n + 1]);
}
<span class="org-type">int</span> <span class="org-function-name">fibonacci</span>(<span class="org-type">int</span> <span class="org-variable-name">i</span>, <span class="org-type">int</span>[] <span class="org-variable-name">memo</span>) {
    <span class="org-keyword">if</span> (i == 0 || i == 1) <span class="org-keyword">return</span> i;
    <span class="org-keyword">if</span> (memo[i] == 0) {
        memo[i] = fibonacci(i - 1, memo) + fibonacci(i - 2, memo);
    }
    <span class="org-keyword">return</span> memo[i];
}
</pre>
</div>


<div class="figure">
<p><img src="../images/cracking_the_coding_interview/12.png" alt="12.png" />
</p>
</div>

<p>
Each node has one other child, resulting in roughly $2n$ children in the tree. This gives a runtime of $O(n)$.
</p>
</div>
</li>
<li>Bottom-Up Dynamic Programming<br  /><div class="outline-text-5" id="text-16-3-1-3">
<div class="org-src-container">
<label class="org-src-name">The same things as the recursive memoized approach, but in reverse: start from the base cases up.</label>
<pre class="src src-java"><span class="org-type">int</span> <span class="org-function-name">fibonacci</span>(<span class="org-type">int</span> <span class="org-variable-name">n</span>) {
    <span class="org-keyword">if</span> (n == 0) <span class="org-keyword">return</span> 0;
    <span class="org-keyword">else</span> <span class="org-keyword">if</span> (n == 1) <span class="org-keyword">return</span> 1;

    <span class="org-type">int</span>[] <span class="org-variable-name">memo</span> <span class="org-keyword">new</span> <span class="org-type">int</span>[n];
    memo[0] = 0;
    memo[l] = 1;

    <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">i</span>= 2; i &lt; n; i++) {
        memo[i] = memo[i - 1] + memo[i - 2];
    }
    <span class="org-keyword">return</span> memo[n - 1] + memo[n - 2];
}
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">Actually only the last 2 values are being used, so it can get rid of the memo table andjust store a few variables.</label>
<pre class="src src-java"><span class="org-type">int</span> <span class="org-function-name">fibinacci</span>(<span class="org-type">int</span> <span class="org-variable-name">n</span>) {
    <span class="org-keyword">if</span> (n == 0) <span class="org-keyword">return</span> 0;

    <span class="org-type">int</span> <span class="org-variable-name">a</span> = 0;
    <span class="org-type">int</span> <span class="org-variable-name">b</span> = 1;

    <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">i</span> = 2; i &lt; n; i++) {
        <span class="org-type">int</span> <span class="org-variable-name">c</span> = a + b;
        a = b;
        b = c;
    }
    <span class="org-keyword">return</span> a + b;
}
</pre>
</div>
</div>
</li></ol>
</div>
</div>

<div id="outline-container-sec-16-4" class="outline-3">
<h3 id="sec-16-4"><span class="section-number-3">16.4</span> Question: Recursive Multiply</h3>
<div class="outline-text-3" id="text-16-4">
<div class="org-quote-container">
<blockquote>
<p>
Multiply two positive integers without using the <code>*</code> or <code>/</code> operator. <code>+</code>, <code>-</code> and bit shifting can be used, but minimize the number of those operations.
</p>
</blockquote>
</div>

<p>
$a \times b = a / 2 \times b \times 2$, therefore the calculation can be done recursively by halve one of the numbers and double the result. If \(a\) is odd, $a \times b = \lfloor a / 2 \rfloor \times b \times 2 + b$. This algorithm will run in $O(\log{s})$ time, where \(s\) is the smaller of the two numbers.
</p>

<div class="org-src-container">

<pre class="src src-java"><span class="org-type">int</span> <span class="org-function-name">minProduct</span>(<span class="org-type">int</span> <span class="org-variable-name">a</span>, <span class="org-type">int</span> <span class="org-variable-name">b</span>) {
    <span class="org-type">int</span> <span class="org-variable-name">bigger</span> = a&lt; b ? b: a;
    <span class="org-type">int</span> <span class="org-variable-name">smaller</span> = a&lt; b ? a : b;
    <span class="org-keyword">return</span> minProductHelper(smaller, bigger);
}

<span class="org-type">int</span> <span class="org-function-name">minProductHelper</span>(<span class="org-type">int</span> <span class="org-variable-name">smaller</span>, <span class="org-type">int</span> <span class="org-variable-name">bigger</span>) {
    <span class="org-keyword">if</span> (smaller == 0) <span class="org-keyword">return</span> 0;
    <span class="org-keyword">else</span> <span class="org-keyword">if</span> (smaller == 1) <span class="org-keyword">return</span> bigger;

    <span class="org-type">int</span> <span class="org-variable-name">s</span> = smaller &gt;&gt; 1; <span class="org-comment-delimiter">// </span><span class="org-comment">Divide by 2</span>
    <span class="org-type">int</span> <span class="org-variable-name">halfProd</span> = minProductHelper(s, bigger);
    <span class="org-keyword">if</span> (smaller % 2 == 0) {
        <span class="org-keyword">return</span> halfProd + halfProd;
    } <span class="org-keyword">else</span> {
        <span class="org-keyword">return</span> halfProd + halfProd + bigger;
    }
}
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-16-5" class="outline-3">
<h3 id="sec-16-5"><span class="section-number-3">16.5</span> Question: Permutations without Dups</h3>
<div class="outline-text-3" id="text-16-5">
<div class="org-quote-container">
<blockquote>
<p>
Generate all permutations of a string of unique characters.
</p>
</blockquote>
</div>
</div>

<div id="outline-container-sec-16-5-1" class="outline-4">
<h4 id="sec-16-5-1"><span class="section-number-4">16.5.1</span> Solution 1</h4>
<div class="outline-text-4" id="text-16-5-1">
<p>
To generate permutations of $a_1a_2a_3$ from permutations of $a_1a_2$, insert $a_3$ into all possible locations of each permutation of $a_1a_2$.
</p>
</div>
</div>
<div id="outline-container-sec-16-5-2" class="outline-4">
<h4 id="sec-16-5-2"><span class="section-number-4">16.5.2</span> Solution 2</h4>
<div class="outline-text-4" id="text-16-5-2">
<p>
To generate permutations of $a_1a_2a_3$ from permutations of 2 characters, prepend the third character as prefix to each permutation of 2 characters: $P(a_1a_2a_3) = \{a_1 + P(a_2a_3)\} + \{a_2 + P(a_1a_3)\} + \{a_3 + P(a_1a_2)\}$
</p>

<div class="org-src-container">

<pre class="src src-java">Arraylist&lt;String&gt; getPerms(<span class="org-type">String</span> <span class="org-variable-name">str</span>) {
    Arraylist&lt;String&gt; result = <span class="org-keyword">new</span> <span class="org-type">Arraylist</span>&lt;String&gt;();
    getPerms(<span class="org-string">""</span>, str, result);
    <span class="org-keyword">return</span> result;
}

<span class="org-type">void</span> <span class="org-function-name">getPerms</span>(<span class="org-type">String</span> <span class="org-variable-name">prefix</span>, <span class="org-type">String</span> <span class="org-variable-name">remainder</span>, Arraylist&lt;String&gt; result) {
    <span class="org-keyword">if</span> (remainder.length() == 0) result.add(prefix);

    <span class="org-type">int</span> <span class="org-variable-name">len</span> = remainder.length();
    <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">i</span> = 0; i &lt; len; i++) {
        <span class="org-type">String</span> <span class="org-variable-name">before</span> = remainder.substring(0, i);
        <span class="org-type">String</span> <span class="org-variable-name">after</span> = remainder.substring(i + 1, len);
        <span class="org-type">char</span> <span class="org-variable-name">c</span> = remainder.charAt(i);
        getPerms(prefix + c, before + after, result);
    }
}
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-16-6" class="outline-3">
<h3 id="sec-16-6"><span class="section-number-3">16.6</span> Question: Permutations with Duplicates (Incomplete)</h3>
<div class="outline-text-3" id="text-16-6">
<div class="org-quote-container">
<blockquote>
<p>
Generate all permutations of a string whose characters are not necessarily unique.
</p>
</blockquote>
</div>
</div>
</div>
<div id="outline-container-sec-16-7" class="outline-3">
<h3 id="sec-16-7"><span class="section-number-3">16.7</span> Question: Paren</h3>
<div class="outline-text-3" id="text-16-7">
<div class="org-quote-container">
<blockquote>
<p>
Print all valid (i.e., properly opened and closed) combinations of \(n\) pairs of parentheses.
</p>
</blockquote>
</div>
</div>

<div id="outline-container-sec-16-7-1" class="outline-4">
<h4 id="sec-16-7-1"><span class="section-number-4">16.7.1</span> Solution 1</h4>
<div class="outline-text-4" id="text-16-7-1">
<p>
Insert a pair of parentheses inside every existing pair of parentheses, as well as at the beginning of the string:
</p>

<ul class="org-ul">
<li>(()) &rarr; (()()), ((())), ()(())
</li>
<li>()() &rarr; (())(), ()(()), ()()()
</li>
</ul>

<p>
It needs hash table to check for duplicates.
</p>
</div>
</div>
<div id="outline-container-sec-16-7-2" class="outline-4">
<h4 id="sec-16-7-2"><span class="section-number-4">16.7.2</span> Solution 2</h4>
<div class="outline-text-4" id="text-16-7-2">
<p>
Append left and right parens to the string, as long as the expression stays valid:
</p>

<ul class="org-ul">
<li>Left parens can be added when there are left parens left.
</li>
<li>Right parens can be added when there are more right parens left than left parens.
</li>
</ul>

<div class="org-src-container">

<pre class="src src-java"><span class="org-type">void</span> <span class="org-function-name">addParen</span>(Arraylist&lt;String&gt; list, <span class="org-type">int</span> <span class="org-variable-name">leftRem</span>, <span class="org-type">int</span> <span class="org-variable-name">rightRem</span>, <span class="org-type">char</span>[] <span class="org-variable-name">str</span>, <span class="org-type">int</span> <span class="org-variable-name">index</span>) {
    <span class="org-keyword">if</span> (leftRem &lt; 0 || rightRem &lt; leftRem) <span class="org-keyword">return</span>; <span class="org-comment-delimiter">// </span><span class="org-comment">Check for invalid</span>

    <span class="org-keyword">if</span> (leftRem == 0 &amp;&amp; rightRem == 0) {
        list.add(String.copyValueOf(str));

    } <span class="org-keyword">else</span> {
        str[index] = <span class="org-string">'('</span>; <span class="org-comment-delimiter">// </span><span class="org-comment">Add left and recurse</span>
        addParen(list, leftRem - 1, rightRem, str, index + 1);

        str[index] = <span class="org-string">')'</span>; <span class="org-comment-delimiter">// </span><span class="org-comment">Add right and recurse</span>
        addParen(list, leftRem, rightRem - 1, str, index + 1);
    }
}

ArrayList&lt;String&gt; generateParens(<span class="org-type">int</span> <span class="org-variable-name">count</span>) {
    <span class="org-type">char</span>[] <span class="org-variable-name">str</span> = <span class="org-keyword">new</span> <span class="org-type">char</span>[count * 2];
    Arraylist&lt;String&gt; list = <span class="org-keyword">new</span> <span class="org-type">Arraylist</span>&lt;String&gt;();
    addParen(list, count, count, str, 0);
    <span class="org-keyword">return</span> list;
}
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-16-8" class="outline-3">
<h3 id="sec-16-8"><span class="section-number-3">16.8</span> Question: Coins</h3>
<div class="outline-text-3" id="text-16-8">
<div class="org-quote-container">
<blockquote>
<p>
Given an infinite number of quarters (25 cents), dimes (1O cents), nickels (5 cents), and pennies (1 cent),  calculate the number of ways of representing \(n\) cents.
</p>
</blockquote>
</div>

<div class="org-src-container">

<pre class="src src-code">makeChange(100, [25, 10, 5, 1]) = makeChange(100, [10, 5, 1]) +
                                  makeChange(75,  [10, 5, 1]) +
                                  makeChange(50,  [10, 5, 1]) +
                                  makeChange(25,  [10, 5, 1]) +
                                  makeChange(0 ,  [10, 5, 1])
</pre>
</div>

<p>
<code>makeChange()</code> will be called multiple times with the same values, the results can be stored to save some time.
</p>

<div class="org-src-container">

<pre class="src src-java"><span class="org-type">int</span> <span class="org-function-name">makeChange</span>(<span class="org-type">int</span> <span class="org-variable-name">n</span>) {
    <span class="org-type">int</span>[] <span class="org-variable-name">denoms</span> = {25, 10, 5, l};
    <span class="org-type">int</span>[][] <span class="org-variable-name">map</span> = <span class="org-keyword">new</span> <span class="org-type">int</span>[n+ l][denoms.length];
    <span class="org-keyword">return</span> makeChange(n, denoms, 0, map);
}

<span class="org-type">int</span> <span class="org-function-name">makeChange</span>(<span class="org-type">int</span> <span class="org-variable-name">amount</span>, <span class="org-type">int</span>[] <span class="org-variable-name">denoms</span>, <span class="org-type">int</span> <span class="org-variable-name">index</span>, <span class="org-type">int</span>[][] <span class="org-variable-name">map</span>) {
    <span class="org-keyword">if</span> (map[amount][index] &gt; 0) {
        <span class="org-keyword">return</span> map[amount][index]; <span class="org-comment-delimiter">// </span><span class="org-comment">Return stored results</span>
    }
    <span class="org-keyword">if</span> (index &gt;= denoms.length - 1) <span class="org-keyword">return</span> 1; <span class="org-comment-delimiter">// </span><span class="org-comment">Reduced</span>

    <span class="org-type">int</span> <span class="org-variable-name">denomAmount</span> denoms[index];
    <span class="org-type">int</span> <span class="org-variable-name">ways</span> = 0;
    <span class="org-keyword">for</span> (<span class="org-type">int</span> <span class="org-variable-name">i</span> = 0; i * denomAmount &lt;= amount; i++) {
        <span class="org-type">int</span> <span class="org-variable-name">amountRemaining</span> = amount - i * denomAmount;
        ways += makeChange(amountRemaining, denoms, index + 1, map);
    }
    map[amount][index]= ways; <span class="org-comment-delimiter">// </span><span class="org-comment">Store results</span>
    <span class="org-keyword">return</span> ways;
}
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-16-9" class="outline-3">
<h3 id="sec-16-9"><span class="section-number-3">16.9</span> Question: Stack of Boxes (Incomplete)</h3>
<div class="outline-text-3" id="text-16-9">
<div class="org-quote-container">
<blockquote>
<p>
Given a stack of \(n\) boxes, with widths $w_i$, heights $h_i$, and depths $d_i$. The boxes cannot be rotated and can only be stacked on top of one another if each box in the stack is strictly larger than the box above it in width, height, and depth. Compute the height of the tallest possible stack.
</p>
</blockquote>
</div>
</div>

<div id="outline-container-sec-16-9-1" class="outline-4">
<h4 id="sec-16-9-1"><span class="section-number-4">16.9.1</span> Solution 1</h4>
</div>
</div>
<div id="outline-container-sec-16-10" class="outline-3">
<h3 id="sec-16-10"><span class="section-number-3">16.10</span> Question: Boolean Evaluation (Incomplete)</h3>
<div class="outline-text-3" id="text-16-10">
<div class="org-quote-container">
<blockquote>
<p>
Given a boolean expression consisting of the symbols <code>0</code> (false), <code>1</code> (true), <code>&amp;</code> (AND), <code>|</code> (OR), and <code>^</code> (XOR), and a desired boolean result value result, count the number of ways of parenthesizing the expression such that it evaluates to result. The expression should be fully parenthesized (e.g., <code>(0)^(1)</code>) but not extraneously (e.g., <code>(((0))^(1)))</code>.
</p>

<p>
<code>countEval("1^0|0|1", false)</code> &rarr; 2 <br  />
<code>countEval("0&amp;0&amp;0&amp;1^1|0", true)</code> &rarr; 10
</p>
</blockquote>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-17" class="outline-2">
<h2 id="sec-17"><span class="section-number-2">17</span> System Design and Scalability (Incomplete)</h2>
<div class="outline-text-2" id="text-17">
</div><div id="outline-container-sec-17-1" class="outline-3">
<h3 id="sec-17-1"><span class="section-number-3">17.1</span> Handling the Questions</h3>
<div class="outline-text-3" id="text-17-1">
<p>
&#x2013; These questions are designed to see how you would perfrm in the real world. <br  />
&#x2013; These questions are largely about <span class="underline">the process rather than the ultimate design</span>.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>Communicate</b></th>
<th scope="col" class="left">&#xa0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><b>Go broad first</b></td>
<td class="left">Don't dive straight into the algorithm part or get excessively fcused on one part.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>Use the whiteboard</b></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>Be careful about assumptions</b></td>
<td class="left">&#x2013; An incorrect assumption can dramatically change the problem.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#x2013; State assumptions explicitly.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>Estimate when necessary</b></td>
<td class="left">&#x2013; Space</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-17-2" class="outline-3">
<h3 id="sec-17-2"><span class="section-number-3">17.2</span> Design</h3>
<div class="outline-text-3" id="text-17-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>1. Scope the Problem</b></th>
<th scope="col" class="left">Make a list of major features or use cases.</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><b>2. Make Reasonable Assumptions</b></td>
<td class="left">&#x2013; Users per day</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#x2013; Storage and memory needed</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>3. Draw the Major Components</b></td>
<td class="left">Walk through the system from end-to-end to provide a flow.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#x2013; Frontend servers</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#x2013; Backend data storage</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#x2013; Analytics servers</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>4. Identify the Key Issues</b></td>
<td class="left">Bottlenecks and major challenges</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>5. Redesign for the Key Issues</b></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-17-3" class="outline-3">
<h3 id="sec-17-3"><span class="section-number-3">17.3</span> Algorithms that Scale</h3>
<div class="outline-text-3" id="text-17-3">
<p>
To design a single feature or algorithm, but to do it in a scalable way.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>1. Ask Questions</b></th>
<th scope="col" class="left">Make sure you really understand the question. There might be details the interviewer</th>
</tr>

<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">left out.</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><b>2. Make Believe</b></td>
<td class="left">Pretend that the data can all fit on one machine and there are no memory limitations.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>3. Get Real</b></td>
<td class="left">&#x2013; How many machines are actually needed?</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#x2013; How to logically divide the data up?</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#x2013; How one machine would identify where to look up a piece of data?</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>4. Solve Problems</b></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
</table>

<p>
The goal is not to re-architect a complex system that companies have spent millions of dollars building, but rather <span class="underline">to demonstrate that you can analyze and solve problems</span>. Poking holes in your own solution is a fantastic way to demonstrate this.
</p>
</div>
</div>
<div id="outline-container-sec-17-4" class="outline-3">
<h3 id="sec-17-4"><span class="section-number-3">17.4</span> Key Concepts</h3>
<div class="outline-text-3" id="text-17-4">
</div><div id="outline-container-sec-17-4-1" class="outline-4">
<h4 id="sec-17-4-1"><span class="section-number-4">17.4.1</span> Horizontal vs. Vertical Scaling</h4>
<div class="outline-text-4" id="text-17-4-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>Horizontal scaling</b></th>
<th scope="col" class="left">Increasing the number of nodes, e.g. add additional servers.</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><b>Vertical scaling</b></td>
<td class="left">Increasing the resources of a specific node, e.g. add additional memory to a server.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">Generally easier than horizontal scaling, but limited.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-17-4-2" class="outline-4">
<h4 id="sec-17-4-2"><span class="section-number-4">17.4.2</span> Load Balancer</h4>
<div class="outline-text-4" id="text-17-4-2">
<p>
Typically, frontend parts of a scalable website will be thrown behind a load balancer. This allows a system to distribute the load evenly among a network of cloned servers that all have essentially the same code and access to the same data, to avoid SPOF (Single Point of Failure).
</p>
</div>
</div>
<div id="outline-container-sec-17-4-3" class="outline-4">
<h4 id="sec-17-4-3"><span class="section-number-4">17.4.3</span> Database Denormalization and NoSQL</h4>
<div class="outline-text-4" id="text-17-4-3">
<p>
<code>JOIN</code> in RDB can be inefficient in large systems. <span class="underline">Denormalization means adding redundant information to speed up database reads.</span> E.g. a database describing projects and tasks, to get the project name and the task information, rather than doing a <code>JOIN</code> across the tables, store the project name within the <code>task</code> table in addition to the <code>project</code> table.
</p>

<p>
<span class="underline">NoSQL databases are designed to scale better.</span> It does not support <code>JOIN</code> and structure data in a different way.
</p>
</div>
</div>
<div id="outline-container-sec-17-4-4" class="outline-4">
<h4 id="sec-17-4-4"><span class="section-number-4">17.4.4</span> Database Partitioning (Sharding)</h4>
<div class="outline-text-4" id="text-17-4-4">
<p>
<span class="underline">Sharding means splitting data across multiple machines</span> while ensuring a way of figuring out which data is on which machine.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>Vertical Partitioning</b></th>
<th scope="col" class="left">Partition data by feature, data for different functions are separated.</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><b>Key-Based (or Hash-Based) Partitioning</b></td>
<td class="left">Allocate <code>n</code> servers and put the data on <code>mod(key, n)</code>.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">Drawback: The number of servers is fixed. Adding servers means</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">reallocating all the data, a very expensive task.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>Directory-Based Partitioning</b></td>
<td class="left">Maintain a lookup table for where to find the data.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">Drawback: The lookup table can be a single point of failure. Constantly</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">accessing this table impacts perfrmance.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-17-4-5" class="outline-4">
<h4 id="sec-17-4-5"><span class="section-number-4">17.4.5</span> Caching</h4>
<div class="outline-text-4" id="text-17-4-5">
<p>
An in-memory cache is a key-value pairing typically sits between application layer and data store.
</p>
</div>
</div>
<div id="outline-container-sec-17-4-6" class="outline-4">
<h4 id="sec-17-4-6"><span class="section-number-4">17.4.6</span> Asynchronous Processing &amp; Queues</h4>
<div class="outline-text-4" id="text-17-4-6">
<p>
Slow operations should ideally be done asynchronously. In some cases, <span class="underline">the processing can be done in advance</span>. The data is slightly out of date, but that's perhaps acceptable.
</p>
</div>
</div>
<div id="outline-container-sec-17-4-7" class="outline-4">
<h4 id="sec-17-4-7"><span class="section-number-4">17.4.7</span> Networking Metrics</h4>
<div class="outline-text-4" id="text-17-4-7">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>Bandwidth</b></th>
<th scope="col" class="left">The maximum amount of data that can be transferred in a unit of time.</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><b>Throughput</b></td>
<td class="left">The actual amount of data that is transferred.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>Latency</b></td>
<td class="left">The delay between the sender sending information and the receiver receiving it.</td>
</tr>
</tbody>
</table>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left"><b>Bandwidth</b></th>
<th scope="col" class="left"><b>Throughput</b></th>
<th scope="col" class="left"><b>Latency</b></th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">Building a fatter conveyor</td>
<td class="left">&uarr;</td>
<td class="left">&uarr;</td>
<td class="left">--</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">Shortening the conveyor</td>
<td class="left">--</td>
<td class="left">--</td>
<td class="left">&darr;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">Accelerating the conveyor</td>
<td class="left">&uarr;</td>
<td class="left">&uarr;</td>
<td class="left">&darr;</td>
</tr>
</tbody>
</table>

<p>
Unlike throughput where there is the option of speeding things up through data compression, <span class="underline">there is often little to do about latency</span>.
</p>
</div>
</div>
<div id="outline-container-sec-17-4-8" class="outline-4">
<h4 id="sec-17-4-8"><span class="section-number-4">17.4.8</span> MapReduce</h4>
<div class="outline-text-4" id="text-17-4-8">
<ul class="org-ul">
<li>Typically used to process large amounts of data.
</li>
<li><span class="underline">Allows processing in parallel, which makes processing huge amounts of data more scalable.</span>
</li>
<li>Requires a Map step and a Reduce step. The rest is handled by the system.
</li>
</ul>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>Map</b></th>
<th scope="col" class="left">Rakes in data and emits a <code>&lt;key, value&gt;</code> pair.</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><b>Reduce</b></td>
<td class="left">Takes a key and a set of associated values and "reduces" them in some way, emitting a new key and value.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">The results of this might be fed back into the Reduce program for more reducing.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="outline-container-sec-17-5" class="outline-3">
<h3 id="sec-17-5"><span class="section-number-3">17.5</span> Considerations</h3>
<div class="outline-text-3" id="text-17-5">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>Failures</b></th>
<th scope="col" class="left">Plan for one or many parts of a system failing.</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><b>Availability</b></td>
<td class="left">The percentage of time the system is operational.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>Reliability</b></td>
<td class="left">The probability that the system is operational for a certain unit of time.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>Read-heavy</b></td>
<td class="left">Use cache.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>Write-heavy</b></td>
<td class="left">Queue up writes.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>Security</b></td>
<td class="left">Think about the issues a system might face and design around.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-17-6" class="outline-3">
<h3 id="sec-17-6"><span class="section-number-3">17.6</span> Example: Search Keywords in Documents</h3>
<div class="outline-text-3" id="text-17-6">
<div class="org-quote-container">
<blockquote>
<p>
Given a list of millions of documents, how to find all documents that contain a list of words? The words can appear in any order, but they must be complete words. That is, "book" does not match "bookkeeper".
</p>
</blockquote>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-18" class="outline-2">
<h2 id="sec-18"><span class="section-number-2">18</span> Sorting and Searching</h2>
<div class="outline-text-2" id="text-18">
</div><div id="outline-container-sec-18-1" class="outline-3">
<h3 id="sec-18-1"><span class="section-number-3">18.1</span> Question: Sorted Merge</h3>
<div class="outline-text-3" id="text-18-1">
<div class="org-quote-container">
<blockquote>
<p>
Given two sorted arrays, A and B, where A has a large enough buffer at the end to hold B. Write a method to merge B into A in sorted order.
</p>
</blockquote>
</div>
</div>

<div id="outline-container-sec-18-1-1" class="outline-4">
<h4 id="sec-18-1-1"><span class="section-number-4">18.1.1</span> Solution 1</h4>
<div class="outline-text-4" id="text-18-1-1">
<p>
Copy elements in A to the end of A, then merge A and B to the start of A.
</p>
</div>
</div>
<div id="outline-container-sec-18-1-2" class="outline-4">
<h4 id="sec-18-1-2"><span class="section-number-4">18.1.2</span> Solution 2</h4>
<div class="outline-text-4" id="text-18-1-2">
<p>
Iterating A and B elements backwards, and merge to the end of A.
</p>
</div>
</div>
</div>
<div id="outline-container-sec-18-2" class="outline-3">
<h3 id="sec-18-2"><span class="section-number-3">18.2</span> Question: Group Anagrams</h3>
<div class="outline-text-3" id="text-18-2">
<div class="org-quote-container">
<blockquote>
<p>
Write a method to sort an array ot strings so that all tne anagrnms are next to each other.
</p>
</blockquote>
</div>
</div>

<div id="outline-container-sec-18-2-1" class="outline-4">
<h4 id="sec-18-2-1"><span class="section-number-4">18.2.1</span> Solution 1</h4>
<div class="outline-text-4" id="text-18-2-1">
<p>
Use a 2-dimensional array to store the count of each letter within each word. Implement a sort comparing function that compares the count of each letter and sort the words. The words with same counts of each letter with be grouped together. Time complexity is $O(nk + n\log{n})$, \(k\) is length of word.
</p>
</div>
</div>
<div id="outline-container-sec-18-2-2" class="outline-4">
<h4 id="sec-18-2-2"><span class="section-number-4">18.2.2</span> Solution 2</h4>
<div class="outline-text-4" id="text-18-2-2">
<p>
Use a hash table, where key is sorted version of each word, and value is list of words. Iterate the hash table and join the list of words under each key.
</p>
</div>
</div>
</div>
<div id="outline-container-sec-18-3" class="outline-3">
<h3 id="sec-18-3"><span class="section-number-3">18.3</span> Question: Search in Rotated Array</h3>
<div class="outline-text-3" id="text-18-3">
<div class="org-quote-container">
<blockquote>
<p>
Given a sorted array of n integers that has been rotated an unknown number of times, write code to fnd an element in the array. Assume that the array was originally sorted in increasing order.
</p>
</blockquote>
</div>
</div>

<div id="outline-container-sec-18-3-1" class="outline-4">
<h4 id="sec-18-3-1"><span class="section-number-4">18.3.1</span> Solution 1</h4>
<div class="outline-text-4" id="text-18-3-1">
<p>
Find the length of the array and the offset where the smallest number is. Use length and offset, an index in a normal sorted array and be mapped to in index in this array. Do a normal binary search and map the indices.
</p>
</div>
</div>
<div id="outline-container-sec-18-3-2" class="outline-4">
<h4 id="sec-18-3-2"><span class="section-number-4">18.3.2</span> Solution 2</h4>
<div class="outline-text-4" id="text-18-3-2">
<p>
Half of the array is sorted. Check either half by comparing the first and last number to see if it is sorted, and if the number being searched in withing the range, and decide which half to continue the recursive process.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-4" class="outline-3">
<h3 id="sec-18-4"><span class="section-number-3">18.4</span> Question: Sorted Matrix Search</h3>
<div class="outline-text-3" id="text-18-4">
<div class="org-quote-container">
<blockquote>
<p>
Given an M x N matrix in which each row and each column is sorted in ascending order, write a method to fnd an element.
</p>
</blockquote>
</div>
</div>

<div id="outline-container-sec-18-4-1" class="outline-4">
<h4 id="sec-18-4-1"><span class="section-number-4">18.4.1</span> Solution 1</h4>
<div class="outline-text-4" id="text-18-4-1">
<ul class="org-ul">
<li>If the start of a column is greater than X, then X is to the left of the column.
</li>
<li>If the end of a column is less than X, then X is to the right of the column.
</li>
<li>If the start of a row is greater than X, then X is above that row.
</li>
<li>If the end of a row is less than X, then X is below that row.
</li>
</ul>

<p>
Start from top right corner, if that value &gt; X, move left, else move down. Repeat until X is found or the first column or last row is passed.
</p>

<p>
Same method can be used to start from left bottom corner and move right and up.
</p>
</div>
</div>
<div id="outline-container-sec-18-4-2" class="outline-4">
<h4 id="sec-18-4-2"><span class="section-number-4">18.4.2</span> Solution 2</h4>
<div class="outline-text-4" id="text-18-4-2">
<p>
Searching along the diagonal from top left to bottom right, when one of 2 adjacent values is &gt; X and the other is &lt; X, recursively search the 2 squares on top right and left bottom corners.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">-</th>
<th scope="col" class="left">-</th>
<th scope="col" class="left">-</th>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">&#xa0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">-</td>
<td class="left">-</td>
<td class="left">-</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">-</td>
<td class="left">-</td>
<td class="left">A</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">B</td>
<td class="left">-</td>
<td class="left">-</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">-</td>
<td class="left">-</td>
<td class="left">-</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">-</td>
<td class="left">-</td>
<td class="left">-</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="outline-container-sec-18-5" class="outline-3">
<h3 id="sec-18-5"><span class="section-number-3">18.5</span> Question: Peaks and Valleys</h3>
<div class="outline-text-3" id="text-18-5">
<div class="org-quote-container">
<blockquote>
<p>
In an array of integers, a "peak" is an element which is greater than or equal to the adjacent integers and a "valley" is an element which is less than or equal to the adjacent integers. Given an array of integers, sort the array into an alternating sequence of peaks and valleys.
</p>

<p>
Example: <br  />
Input: {5, 3, 1, 2, 3} <br  />
Output: {5, 1, 3, 2, 3}
</p>
</blockquote>
</div>
</div>

<div id="outline-container-sec-18-5-1" class="outline-4">
<h4 id="sec-18-5-1"><span class="section-number-4">18.5.1</span> Solution 1</h4>
<div class="outline-text-4" id="text-18-5-1">
<p>
First sort the array in ascending order. Then swap each 2 adjacent numbers. The number swapped towards the beginning will always be "peak" and the other one will be "valley".
</p>
</div>
</div>
<div id="outline-container-sec-18-5-2" class="outline-4">
<h4 id="sec-18-5-2"><span class="section-number-4">18.5.2</span> Solution 2</h4>
<div class="outline-text-4" id="text-18-5-2">
<p>
There are 6 possibilities for any 3 adjacent numbers (assume they are not equal). The methods to swap 2 numbers to make the middle one "peak" or "valley":
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">Middle is peak</th>
<th scope="col" class="left">Middle is valley</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">0 1 2</td>
<td class="left">0 2 1</td>
<td class="left">1 0 2</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">0 2 1</td>
<td class="left">OK</td>
<td class="left">2 0 1</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">1 0 2</td>
<td class="left">1 2 0</td>
<td class="left">OK</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">1 2 0</td>
<td class="left">OK</td>
<td class="left">1 0 2</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">2 0 1</td>
<td class="left">0 2 1</td>
<td class="left">OK</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">2 1 0</td>
<td class="left">1 2 0</td>
<td class="left">2 0 1</td>
</tr>
</tbody>
</table>

<p>
This swap will not already sorted part of the array. For example, when swapping middle with left or right to make the middle a "peak", the original middle number is always swapped with a larger number which is supposed to be "valley", so a smaller number will still be "valley". This is the same for making the middle a "valley".
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-19" class="outline-2">
<h2 id="sec-19"><span class="section-number-2">19</span> Testing</h2>
<div class="outline-text-2" id="text-19">
<p>
Testing problems usually fall under 4 categories:
</p>

<ul class="org-ul">
<li>Test a real world object
</li>
<li>Test a piece of software
</li>
<li>Test a function
</li>
<li>Troubleshoot an issue
</li>
</ul>

<p>
Do not make assumption of the input. <span class="underline">Expect abuse and plan for it.</span>
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">
<caption class="t-above"><span class="table-number">Table 1:</span> Interviewers want to test:</caption>

<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>Big picture understanding</b></th>
<th scope="col" class="left">How the test cases are prioritized.</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><b>Interrelation</b></td>
<td class="left">How the components fit together.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>Organization</b></td>
<td class="left">Approach the problem <span class="underline">in a structured manner</span>.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left"><span class="underline">Break down</span> the parts into categories.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>Practicality</b></td>
<td class="left">Create reasonable testing plans.</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-19-1" class="outline-3">
<h3 id="sec-19-1"><span class="section-number-3">19.1</span> Testing a Real World Object</h3>
<div class="outline-text-3" id="text-19-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>User and purpose</b></th>
<th scope="col" class="left">Who is using the product and for what purpose.</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><b>Use cases</b></td>
<td class="left">Make a list of the <span class="underline">use cases</span>.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>Bounds of use</b></td>
<td class="left">Confirm the <span class="underline">bounds of use</span>.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">Extend to environmental factors, e.g. temperature.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>Stress/failure conditions</b></td>
<td class="left">Decide when <span class="underline">failure</span> is acceptable or necessary.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">What are the consequences of failure.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>Performing the testing</b></td>
<td class="left">Manual or automated.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-19-2" class="outline-3">
<h3 id="sec-19-2"><span class="section-number-3">19.2</span> Testing a Piece of Software</h3>
<div class="outline-text-3" id="text-19-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>Black box or white box</b></th>
<th scope="col" class="left">&#xa0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><b>User and purpose</b></td>
<td class="left">Identify different user roles.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>Use cases</b></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>Bounds of use</b></td>
<td class="left">Malfunction rate, e.g. ads blocking failure.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>Stress/failure conditions</b></td>
<td class="left">What should the failure look like.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>Performing the testing</b></td>
<td class="left">Which tests can be automated.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">Which tests require human intervention.</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-19-2-1" class="outline-4">
<h4 id="sec-19-2-1"><span class="section-number-4">19.2.1</span> Manual vs. Automated</h4>
<div class="outline-text-4" id="text-19-2-1">
<p>
Manual and automated tests are both essential. Sometimes manual testing is better because some features are too qualitative for a computer to effectively examine, such as if content represents pornography. A computer can generally recognize only issues that it's been told to look for, human observation may reveal new issues that haven't been specifically examined.
</p>
</div>
</div>
<div id="outline-container-sec-19-2-2" class="outline-4">
<h4 id="sec-19-2-2"><span class="section-number-4">19.2.2</span> Black Box vs. White Box</h4>
<div class="outline-text-4" id="text-19-2-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>Black box testing</b></th>
<th scope="col" class="left">Have access to the software as-is.</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><b>White box testing</b></td>
<td class="left">Have programmatic access to test individual functions.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="outline-container-sec-19-3" class="outline-3">
<h3 id="sec-19-3"><span class="section-number-3">19.3</span> Testing a Function</h3>
<div class="outline-text-3" id="text-19-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>Test cases</b></th>
<th scope="col" class="left">&#x2013; Normal input</th>
</tr>

<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">&#x2013; Extremes, e.g. empty, very small, very large</th>
</tr>

<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">&#x2013; Nulls and illegal input</th>
</tr>

<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">&#x2013; Special input, e.g. a sorted array for a sorting function</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><b>Expected result</b></td>
<td class="left">Additional aspects besides the right output.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">E.g. original input is not changed after calling the function.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>Write test code</b></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-19-4" class="outline-3">
<h3 id="sec-19-4"><span class="section-number-3">19.4</span> Troubleshooting</h3>
<div class="outline-text-3" id="text-19-4">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>Understand the Scenario</b></th>
<th scope="col" class="left">&#x2013; How long has the user been experiencing this issue?</th>
</tr>

<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">&#x2013; What operating system and version of the software is used?</th>
</tr>

<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">&#x2013; How often and when does it happen?</th>
</tr>

<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">&#x2013; Is there an error report?</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><b>Break Down the Problem</b></td>
<td class="left">Break down the use flow into testable units/steps.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">Iterate through the elements to diagnose the problem.</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-19-5" class="outline-3">
<h3 id="sec-19-5"><span class="section-number-3">19.5</span> Question: Random Crashes</h3>
<div class="outline-text-3" id="text-19-5">
<div class="org-quote-container">
<blockquote>
<p>
You are given the source to an application which crashes when it is run. After running it 10 times in a debugger, you find it never crashes in the same place. The application is single threaded, and uses only the C standard library. What programming errors could be causing this crash? How would you test each one?
</p>
</blockquote>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 2:</span> Some general causes of random crashes</caption>

<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>Random variable</b></th>
<th scope="col" class="left">&#x2013; User input</th>
</tr>

<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">&#x2013; Random number generator</th>
</tr>

<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">&#x2013; Timestamp</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><b>Uninitialized variable</b></td>
<td class="left">In some languages it may contain arbitrary value.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>Memory leak</b></td>
<td class="left">Or heap overflow, corruption of stack data, etc.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>External dependencies</b></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
</table>

<p>
Approach the problem by elimination:
</p>

<ul class="org-ul">
<li>Close down all other applications.
</li>
<li>Track resource use.
</li>
<li>Disable other parts of the program if possible.
</li>
<li>Run it on a different machine.  
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-19-6" class="outline-3">
<h3 id="sec-19-6"><span class="section-number-3">19.6</span> Question: No Test Tools</h3>
<div class="outline-text-3" id="text-19-6">
<div class="org-quote-container">
<blockquote>
<p>
How would you load test a webpage without using any test tools?
</p>
</blockquote>
</div>

<p>
Identify the performance critical scenarios and metrics:
</p>

<ul class="org-ul">
<li>Response time
</li>
<li>Throughput
</li>
<li>Resource usage
</li>
<li>Maximum load that the system can bear
</li>
</ul>

<p>
Write a multi-threaded program, with each thread acts as a real-world user loading the page. And for each user, measure response time, data IO etc.
</p>
</div>
</div>
<div id="outline-container-sec-19-7" class="outline-3">
<h3 id="sec-19-7"><span class="section-number-3">19.7</span> Question: Test a Pen</h3>
<div class="outline-text-3" id="text-19-7">
<div class="org-quote-container">
<blockquote>
<p>
How would you test a pen?
</p>
</blockquote>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">
<caption class="t-above"><span class="table-number">Table 3:</span> Different components to check</caption>

<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>Fact check</b></th>
<th scope="col" class="left">If it fulfills the descriptions.</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><b>Intended use</b></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>Unintended use</b></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>Safety</b></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-sec-20" class="outline-2">
<h2 id="sec-20"><span class="section-number-2">20</span> C and C++</h2>
<div class="outline-text-2" id="text-20">
</div><div id="outline-container-sec-20-1" class="outline-3">
<h3 id="sec-20-1"><span class="section-number-3">20.1</span> Question: Last K Lines</h3>
<div class="outline-text-3" id="text-20-1">
<div class="org-quote-container">
<blockquote>
<p>
Write a method to print the last K lines of an input file.
</p>
</blockquote>
</div>

<p>
While iterating the file, use a circular array (size = K) to constantly add lines and overwrite old lines to always keep the last K lines.
</p>
</div>
</div>
<div id="outline-container-sec-20-2" class="outline-3">
<h3 id="sec-20-2"><span class="section-number-3">20.2</span> Question: Shallow vs Deep Copy</h3>
<div class="outline-text-3" id="text-20-2">
<div class="org-quote-container">
<blockquote>
<p>
What is the difference between deep copy and shallow copy?
</p>
</blockquote>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>Shallow copy</b></th>
<th scope="col" class="left">Copies only member values from one object to another.</th>
</tr>

<tr>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">May cause runtime errors with deletion of objects.</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><b>Deep copy</b></td>
<td class="left">Copies member values and pointer objects from one object to another.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">Used in most cases.</td>
</tr>
</tbody>
</table>

<div class="org-src-container">

<pre class="src src-cpp"><span class="org-keyword">struct</span> <span class="org-type">Test</span> {
    <span class="org-type">char</span> * <span class="org-variable-name">ptr</span>;
};

<span class="org-type">void</span> <span class="org-function-name">shallow_copy</span>(<span class="org-type">Test</span>&amp; <span class="org-variable-name">src</span>, <span class="org-type">Test</span>&amp; <span class="org-variable-name">dest</span>) {
    dest.ptr = src.ptr;
}

<span class="org-type">void</span> <span class="org-function-name">deep_copy</span>(<span class="org-type">Test</span>&amp; <span class="org-variable-name">src</span>, <span class="org-type">Test</span>&amp; <span class="org-variable-name">dest</span>) {
    dest.ptr = (<span class="org-type">char</span>*)malloc(strlen(src.ptr) + 1);
    strcpy(dest.ptr, src.ptr);
}
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-20-3" class="outline-3">
<h3 id="sec-20-3"><span class="section-number-3">20.3</span> Question: Copy Node</h3>
<div class="outline-text-3" id="text-20-3">
<div class="org-quote-container">
<blockquote>
<p>
Write a method that takes a pointer to a Node structure as a parameter and returns a complete copy of the passed in data structure. The Node data structure contains two pointers to other Nodes.
</p>
</blockquote>
</div>

<p>
Maintain a mapping from a node address in the original structure to the copied node in the new structure, to avoid re-copy nodes during a depth-first recursive copy.
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="org-keyword">typedef</span> <span class="org-type">map</span>&lt;<span class="org-type">Node</span>*, <span class="org-type">Node</span>*&gt; <span class="org-type">NodeMap</span>;

<span class="org-type">Node</span> * <span class="org-function-name">copy_recursive</span>(<span class="org-type">Node</span> * <span class="org-variable-name">cur</span>, <span class="org-type">NodeMap</span> &amp; <span class="org-variable-name">nodeMap</span>) {
  <span class="org-keyword">if</span> (cur == <span class="org-constant">NULL</span>)
    <span class="org-keyword">return</span> <span class="org-constant">NULL</span>;

  <span class="org-constant">NodeMap</span>::<span class="org-type">iterator</span> <span class="org-variable-name">i</span> = nodeMap.find(cur);
  <span class="org-keyword">if</span> (i != nodeMap.end())
    <span class="org-keyword">return</span> i-&gt;second;

  <span class="org-type">Node</span>* <span class="org-variable-name">node</span> = <span class="org-keyword">new</span> <span class="org-type">Node</span>;
  nodeMap[cur] = node;
  node-&gt;ptrl = copy_recursive(cur-&gt;ptrl, nodeMap);
  node-&gt;ptr2 = copy_recursive(cur-&gt;ptr2, nodeMap);
  <span class="org-keyword">return</span> node;
}

<span class="org-type">Node</span>* <span class="org-function-name">copy_structure</span>(<span class="org-type">Node</span>* <span class="org-variable-name">root</span>) {
  <span class="org-type">NodeMap</span> <span class="org-variable-name">nodeMap</span>;
  <span class="org-keyword">return</span> copy_recursive(root, nodeMap);
}
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-20-4" class="outline-3">
<h3 id="sec-20-4"><span class="section-number-3">20.4</span> Question: Smart Pointer</h3>
<div class="outline-text-3" id="text-20-4">
<div class="org-quote-container">
<blockquote>
<p>
Write a smart pointer class. A smart pointer is a data type, usually implemented with templates, that simulates a pointer while also providing automatic garbage collection. It automatically counts the number of references to a <code>SmartPointer&lt;T*&gt;</code> object and frees the object of type <code>T</code> when the reference count hits zero.
</p>
</blockquote>
</div>

<p>
One useful way to approach the problem is to divide the problem into two parts: (1) <span class="underline">outline the pseudocode</span> and approach and then (2) implement the detailed code. In terms of the approach, we need a reference count variable that is incremented when we add a new reference to the object and decremented when we remove a reference.
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="org-keyword">template</span> &lt;<span class="org-keyword">class</span> <span class="org-type">T</span>&gt; <span class="org-keyword">class</span> <span class="org-type">SmartPointer</span> {
  <span class="org-type">T</span>* <span class="org-variable-name">ref</span>;
  <span class="org-type">unsigned</span>* <span class="org-variable-name">count</span>;

<span class="org-keyword">public</span>:
  <span class="org-function-name">SmartPointer</span>(<span class="org-type">T</span>* <span class="org-variable-name">ptr</span>) {
    ref = ptr;
    count = (<span class="org-type">unsigned</span>*)malloc(<span class="org-keyword">sizeof</span>(<span class="org-type">unsigned</span>));
    *count = 1;
  }

  <span class="org-function-name">SmartPointer</span>(<span class="org-type">SmartPointer</span>&lt;<span class="org-type">T</span>&gt;&amp; <span class="org-variable-name">sptr</span>) {
    ref = sptr.ref;
    count = sptr.count;
    ++(*count); 
  }

  ~<span class="org-function-name">SmartPointer</span>() {
    remove();
  }

  <span class="org-comment-delimiter">/**</span>
<span class="org-comment">   * Override the equal operator, so that when setting one smart pointer equal</span>
<span class="org-comment">   * to another, the old smart pointer has its reference count decremented and</span>
<span class="org-comment">   * the new smart pointer has its reference count incrememented.</span>
<span class="org-comment">   */</span>
  <span class="org-type">SmartPointer</span>&lt;<span class="org-type">T</span>&gt;&amp; <span class="org-keyword">operator</span> <span class="org-function-name">=</span> (<span class="org-type">SmartPointer</span>&lt;<span class="org-type">T</span>&gt;&amp; <span class="org-variable-name">sptr</span>) {
    <span class="org-keyword">if</span> (<span class="org-keyword">this</span> == &amp;sptr) <span class="org-keyword">return</span> *<span class="org-keyword">this</span>;

    <span class="org-comment-delimiter">// </span><span class="org-comment">If already assigned to an object, remove one reference.</span>
    <span class="org-keyword">if</span> (*count &gt; 0)
      remove();

    ref= sptr.ref;
    count = sptr.count;
    ++(*count);
    <span class="org-keyword">return</span> *<span class="org-keyword">this</span>;
  }

  <span class="org-type">T</span> <span class="org-function-name">getValue</span>() {
    <span class="org-keyword">return</span> *ref;
  }

<span class="org-keyword">protected</span>:
  <span class="org-type">void</span> <span class="org-function-name">remove</span>() {
    --(*count);
    <span class="org-keyword">if</span> (*count== 0) {
      <span class="org-keyword">delete</span> ref;
      free(count);
      ref = <span class="org-constant">NULL</span>;
      count = <span class="org-constant">NULL</span>;
    }
  }
};
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-20-5" class="outline-3">
<h3 id="sec-20-5"><span class="section-number-3">20.5</span> Question: Malloc</h3>
<div class="outline-text-3" id="text-20-5">
<div class="org-quote-container">
<blockquote>
<p>
Write an aligned malloc and free function that supports allocating memory such that the memory address returned is divisible by a specifc power of two.
</p>

<p>
Example:<br  />
<code>aligned_malloc(1000, 128)</code> will return a memory address that is a multiple of 128 and that points to memory of size 1000 bytes. <code>aligned_free()</code> will free memory allocated by <code>aligned_malloc()</code>.
</p>
</blockquote>
</div>

<p>
To guarantee the address allocated can be divided by $2^n$ , it would need to allocate an extra $2^n-1$ bytes, besides the memory length required. And to correctly free the allocated memory, the actual initial address of the block needs to be stored. It can be stored just before the returned memory location, which means it needs another extra <code>sizeof(void*)</code> bytes to guarantee there is space to store the address.
</p>

<div class="org-src-container">

<pre class="src src-cpp"><span class="org-type">void</span>* <span class="org-function-name">aligned_malloc</span>(<span class="org-type">size_t</span> <span class="org-variable-name">required_bytes</span>, <span class="org-type">size_t</span> <span class="org-variable-name">alignment</span>) {
    <span class="org-type">void</span>* <span class="org-variable-name">p1</span>; <span class="org-comment-delimiter">// </span><span class="org-comment">Initial address</span>
    <span class="org-type">void</span>* <span class="org-variable-name">p2</span>; <span class="org-comment-delimiter">// </span><span class="org-comment">Aligned address</span>

    <span class="org-type">int</span> <span class="org-variable-name">offset</span> = alignment - 1 + <span class="org-keyword">sizeof</span>(<span class="org-type">void</span>*);

    <span class="org-keyword">if</span> ((p1 = (<span class="org-type">void</span>*)malloc(required_bytes + offset)) == <span class="org-constant">NULL</span>)
        <span class="org-keyword">return</span> <span class="org-constant">NULL</span>;

    <span class="org-comment-delimiter">// </span><span class="org-comment">Mask the address with ...111000... to make it divisible by 2^n</span>
    p2 = (<span class="org-type">void</span>*)(((<span class="org-type">size_t</span>)(pl) + offset) &amp; ~(alignment - 1));

    <span class="org-comment-delimiter">// </span><span class="org-comment">Store the initial address</span>
    ((<span class="org-type">void</span>**)p2)[-1] = p1;

    <span class="org-keyword">return</span> p2;
}

<span class="org-type">void</span> <span class="org-function-name">aligned_free</span>(<span class="org-type">void</span>* <span class="org-variable-name">p2</span>) {
    <span class="org-type">void</span>* <span class="org-variable-name">p1</span> = ((<span class="org-type">void</span>**)p2)[-1];
    free(p1);
}
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-21" class="outline-2">
<h2 id="sec-21"><span class="section-number-2">21</span> Databases</h2>
<div class="outline-text-2" id="text-21">
</div><div id="outline-container-sec-21-1" class="outline-3">
<h3 id="sec-21-1"><span class="section-number-3">21.1</span> Database Design</h3>
<div class="outline-text-3" id="text-21-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>1. Handle ambiguity</b></th>
<th scope="col" class="left">&#xa0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><b>2. Define core objects</b></td>
<td class="left">Typically each core object translates into a table.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>3. Analyze relationships</b></td>
<td class="left">One-to-many, many-to-many, is-a, has-a, etc.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>4. Investigate actions</b></td>
<td class="left">Common actions determine how to store and retrieve relevant data.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">Actions may require new tables and columns.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-sec-22" class="outline-2">
<h2 id="sec-22"><span class="section-number-2">22</span> Moderate</h2>
<div class="outline-text-2" id="text-22">
</div><div id="outline-container-sec-22-1" class="outline-3">
<h3 id="sec-22-1"><span class="section-number-3">22.1</span> Number Swapper</h3>
<div class="outline-text-3" id="text-22-1">
<div class="org-quote-container">
<blockquote>
<p>
Write a function to swap 2 numbers in place (without temporary variables).
</p>
</blockquote>
</div>
</div>

<div id="outline-container-sec-22-1-1" class="outline-4">
<h4 id="sec-22-1-1"><span class="section-number-4">22.1.1</span> Number Manipulation</h4>
<div class="outline-text-4" id="text-22-1-1">
<div class="org-src-container">
<label class="org-src-name">By sum</label>
<pre class="src src-cpp">a = a + b;
b = a - b;
a = a - b;
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">By diff</label>
<pre class="src src-cpp">a = a - b;
b = a + b;
a = a - a;
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-22-1-2" class="outline-4">
<h4 id="sec-22-1-2"><span class="section-number-4">22.1.2</span> Bit Manipulation</h4>
<div class="outline-text-4" id="text-22-1-2">
<div class="org-src-container">

<pre class="src src-cpp">a = a ^ b;
b = a ^ b;
a = a ^ b;
</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Created: 2017-06-21 Wed 08:55</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 24.3.1 (<a href="http://orgmode.org">Org</a> mode 8.2.5h)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
