---
title: "Amazon Web Services"
---
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2019-09-01 Sun 16:42 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Amazon Web Services</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Victor Chen" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="../../styles/readtheorg/css/font.css"/>
<link rel="stylesheet" type="text/css" href="../../styles/readtheorg/css/readtheorg.css"/>
<link rel="stylesheet" type="text/css" href="../../styles/readtheorg/css/htmlize.css"/>
<script type="text/javascript" src="../../styles/readtheorg/js/jquery.min.js"></script>
<script type="text/javascript" src="../../styles/readtheorg/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../styles/readtheorg/js/readtheorg.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2017 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Amazon Web Services</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org4361d17">1 Services</a></li>
<li><a href="#org83df16b">2 SDK</a></li>
<li><a href="#org8c56bb1">3 API Gateway</a>
<ul>
<li><a href="#org0fb5231">3.1 APIs</a>
<ul>
<li><a href="#orgbc39db9">3.1.1 Resources</a></li>
<li><a href="#org139a5fb">3.1.2 Method Execution</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org7033389">4 ASG</a>
<ul>
<li><a href="#org43aaff1">4.1 Launch Configuration</a></li>
</ul>
</li>
<li><a href="#org4313f39">5 CloudFormation</a>
<ul>
<li><a href="#org522edbf">5.1 创建栈</a></li>
</ul>
</li>
<li><a href="#org78dec8f">6 Cognito</a></li>
<li><a href="#org19bf775">7 DynamoDB</a>
<ul>
<li><a href="#orga6f7d9e">7.1 Capacity</a></li>
<li><a href="#org85abbb3">7.2 Partitions</a></li>
<li><a href="#orgfe67cd0">7.3 Indexes</a>
<ul>
<li><a href="#org2aa7392">7.3.1 Global Secondary Indexes</a></li>
<li><a href="#org411ab16">7.3.2 Local Secondary Indexes</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgb5cf7b7">8 EBS</a></li>
<li><a href="#orgdc49592">9 EC2</a></li>
<li><a href="#orgcd5bc28">10 ELB</a></li>
<li><a href="#org0a68cb4">11 IAM</a>
<ul>
<li><a href="#org26e720a">11.1 Users</a></li>
<li><a href="#org82d054f">11.2 Policies</a></li>
</ul>
</li>
<li><a href="#orge13272a">12 Lambda</a>
<ul>
<li><a href="#org48caace">12.1 Event Sources</a></li>
<li><a href="#org2770a49">12.2 Best Practices</a></li>
<li><a href="#org8d8d1fd">12.3 Debug</a></li>
</ul>
</li>
<li><a href="#org359ae4e">13 RDS</a></li>
<li><a href="#orgb4417a7">14 S3</a>
<ul>
<li><a href="#org301dba9">14.1 Bucket</a></li>
</ul>
</li>
<li><a href="#orgb57bbee">15 Security Groups</a></li>
<li><a href="#org50ff128">16 VPC</a></li>
<li><a href="#orga324e95">17 管理</a>
<ul>
<li><a href="#org89a096f">17.1 Tag</a></li>
<li><a href="#org960c55d">17.2 Resource Group</a></li>
</ul>
</li>
<li><a href="#org04c20c4">18 链接</a></li>
</ul>
</div>
</div>

<div id="outline-container-org4361d17" class="outline-2">
<h2 id="org4361d17"><span class="section-number-2">1</span> Services</h2>
<div class="outline-text-2" id="text-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">ASG</th>
<th scope="col" class="org-left">Auto Scaling Group</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">CloudFormation</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">EC2</td>
<td class="org-left">Elastic Compute Cloud</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">ELB</td>
<td class="org-left">Elastic Load Balancing</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">IAM</td>
<td class="org-left">Identity and Access Management</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">RDS</td>
<td class="org-left">Relational Database Service</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Security Groups</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">VPC</td>
<td class="org-left">Virtual Private Cloud</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org83df16b" class="outline-2">
<h2 id="org83df16b"><span class="section-number-2">2</span> SDK</h2>
<div class="outline-text-2" id="text-2">
<p>
<a href="https://aws.amazon.com/tools/">Tools to Build on AWS</a>
</p>
</div>
</div>

<div id="outline-container-org8c56bb1" class="outline-2">
<h2 id="org8c56bb1"><span class="section-number-2">3</span> API Gateway</h2>
<div class="outline-text-2" id="text-3">
<p>
<a href="https://aws.amazon.com/api-gateway/">Amazon API Gateway</a>
</p>

<p>
API Gateway 用于创建 REST API，以调用 Lambda 函数或访问其他资源。
</p>


<div class="figure">
<p><img src="../images/amazon_web_services/01.png" alt="01.png" />
</p>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left"><b>APIs</b></th>
<th scope="col" class="org-left">定义路径、HTTP 方法、动作等</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><b>Usage Plans</b></td>
<td class="org-left">限制使用频率</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><b>API Keys</b></td>
<td class="org-left">请求身份验证</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><b>Custom Domain Names</b></td>
<td class="org-left">映射 URL 到其他域名</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><b>Settings</b></td>
<td class="org-left">设置 IAM</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-org0fb5231" class="outline-3">
<h3 id="org0fb5231"><span class="section-number-3">3.1</span> APIs</h3>
<div class="outline-text-3" id="text-3-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left"><b>Resources</b></th>
<th scope="col" class="org-left">Define API paths and actions</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><b>Stages</b></td>
<td class="org-left">API snapshots that are deployed</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><b>Authorizers</b></td>
<td class="org-left">Authentication settings</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><b>Models</b></td>
<td class="org-left">Model schemas for data validation</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><b>Documentation</b></td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><b>Binary Support</b></td>
<td class="org-left">Support sending files in requests</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><b>Dashboard</b></td>
<td class="org-left">Monitoring</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-orgbc39db9" class="outline-4">
<h4 id="orgbc39db9"><span class="section-number-4">3.1.1</span> Resources</h4>
<div class="outline-text-4" id="text-3-1-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left"><b>Configure as Proxy Resource</b></th>
<th scope="col" class="org-left">Create a catch-all resource that forwards all requests to backend</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><b>Enable API Gateway CORS</b></td>
<td class="org-left">Create an <code>OPTIONS</code> method that receives preflight requests, and responds HTTP headers to allow CORS</td>
</tr>
</tbody>
</table>
</div>

<ol class="org-ol"><li><a id="org3424735"></a>CORS<br /><div class="outline-text-5" id="text-3-1-1-1">
<p>
CORS (Cross-Origin Resource Sharing) enables clients hosted under a different domain name to communicate with API Gateway. There are 2 ways to enable CORS on a method.
</p>

<p>
Manually enabling CORS:
</p>

<ol class="org-ol">
<li>When creating a resource, check "Enable API Gateway CORS" box.</li>
<li>After creating a method, go to Method Response &gt; 200, and add a header <code>Access-Control-Allow-Origin</code>.</li>
<li>Go to Integration Response &gt; 200 &gt; Header Mappings, set header <code>Access-Control-Allow-Origin</code> value to <code>'*'</code>.</li>
</ol>

<p>
Automatically enabling CORS:
</p>

<ol class="org-ol">
<li>When creating a resource, check "Enable API Gateway CORS" box.</li>
<li>After creating methods, perform "Enable CORS" on the resource.</li>
<li>Leave the default values or customize as needed, and save.</li>
<li>CORS headers will be added to all methods (if using default values) under the resource.</li>
</ol>
</div></li></ol>
</div>

<div id="outline-container-org139a5fb" class="outline-4">
<h4 id="org139a5fb"><span class="section-number-4">3.1.2</span> Method Execution</h4>
<div class="outline-text-4" id="text-3-1-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left"><b>Method Request</b></th>
<th scope="col" class="org-left">Request validation and authorization</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><b>Integration Request</b></td>
<td class="org-left">Request data transformation and backend settings</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><b>Integration Response</b></td>
<td class="org-left">Response data transformation</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><b>Method Response</b></td>
<td class="org-left">Response headers and content types</td>
</tr>
</tbody>
</table>
</div>

<ol class="org-ol"><li><a id="org228c2fc"></a>Mapping Template<br /><div class="outline-text-5" id="text-3-1-2-1">
<p>
<a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-mapping-template-reference.html">AWS Documentation | API Gateway Mapping Template and Access Logging Variable Reference</a>
</p>

<p>
Mapping templates are used in "Integration Request" and "Integration Response" to transform data being sent to and received from backend.
</p>
</div></li>

<li><a id="orgaaad023"></a>Integration Request<br /><div class="outline-text-5" id="text-3-1-2-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left"><b>Use Lambda Proxy Integration</b></th>
<th scope="col" class="org-left">Instead of a payload, pass the entire request object to the Lambda function</th>
</tr>

<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-left">"Integration Response" is disabled when this is enabled</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><b>Mapping Templates</b></td>
<td class="org-left">Transform request data before passing to backend</td>
</tr>
</tbody>
</table>
</div></li>

<li><a id="org57909c1"></a>Integration Response<br /><div class="outline-text-5" id="text-3-1-2-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><b>Mapping Templates</b></td>
<td class="org-left">Transform response data before sending to client</td>
</tr>
</tbody>
</table>
</div></li></ol>
</div>
</div>
</div>

<div id="outline-container-org7033389" class="outline-2">
<h2 id="org7033389"><span class="section-number-2">4</span> ASG</h2>
<div class="outline-text-2" id="text-4">
<p>
ASG launches a cluster of EC2 Instances, monitoring the health of each Instance, replacing failed instances, and adjusting the size of the cluster in response to load.
</p>
</div>

<div id="outline-container-org43aaff1" class="outline-3">
<h3 id="org43aaff1"><span class="section-number-3">4.1</span> Launch Configuration</h3>
<div class="outline-text-3" id="text-4-1">
<p>
ASG 的实例启动配置。
</p>
</div>
</div>
</div>
<div id="outline-container-org4313f39" class="outline-2">
<h2 id="org4313f39"><span class="section-number-2">5</span> CloudFormation</h2>
<div class="outline-text-2" id="text-5">
</div><div id="outline-container-org522edbf" class="outline-3">
<h3 id="org522edbf"><span class="section-number-3">5.1</span> 创建栈</h3>
<div class="outline-text-3" id="text-5-1">
<ul class="org-ul">
<li>Select blueprint (template) for the infrastructure
<ul class="org-ul">
<li>Use sample template</li>
<li>Upload template</li>
<li>Specify Amazon S3 Template URL</li>
</ul></li>
<li>Specify parameters</li>
<li>Specify tags</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org78dec8f" class="outline-2">
<h2 id="org78dec8f"><span class="section-number-2">6</span> Cognito</h2>
<div class="outline-text-2" id="text-6">
<p>
<a href="https://aws.amazon.com/cognito/dev-resources/">Amazon Cognito | Developer Resources</a>
</p>

<p>
Cognito provides authentication function, by defining auth rules and issuing tokens (or temporary IAM role credentials) to users to access other services. Users are authenticated by the Cognito User Pool, or third-party providers such as Google and Facebook.
</p>


<div class="figure">
<p><img src="../images/amazon_web_services/03.png" alt="03.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-org19bf775" class="outline-2">
<h2 id="org19bf775"><span class="section-number-2">7</span> DynamoDB</h2>
<div class="outline-text-2" id="text-7">
<p>
<a href="https://aws.amazon.com/dynamodb/">Amazon DynamoDB</a>
</p>

<p>
NoSQL database service, which is provided as a pool, there is no server setup or provisioning, and scaling is automatic.
</p>
</div>

<div id="outline-container-orga6f7d9e" class="outline-3">
<h3 id="orga6f7d9e"><span class="section-number-3">7.1</span> Capacity</h3>
<div class="outline-text-3" id="text-7-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left"><b>Provisioned</b></th>
<th scope="col" class="org-left">Estimate capacity beforehand, fixed limits, cheaper</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><b>On-demand</b></td>
<td class="org-left">No estimation, pay per request</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org85abbb3" class="outline-3">
<h3 id="org85abbb3"><span class="section-number-3">7.2</span> Partitions</h3>
<div class="outline-text-3" id="text-7-2">
<p>
<a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.Partitions.html">Amazon DynamoDB | Partitions and Data Distribution</a>
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left"><b>Partition key</b></th>
<th scope="col" class="org-left">A key that each item must have, determining which partition the item will be stored in</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><b>Sort key</b></td>
<td class="org-left">A key to sort items within the same partition</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><b>Primary key</b></td>
<td class="org-left">Partition key alone, or partition key + sort key</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orgfe67cd0" class="outline-3">
<h3 id="orgfe67cd0"><span class="section-number-3">7.3</span> Indexes</h3>
<div class="outline-text-3" id="text-7-3">
</div><div id="outline-container-org2aa7392" class="outline-4">
<h4 id="org2aa7392"><span class="section-number-4">7.3.1</span> Global Secondary Indexes</h4>
<div class="outline-text-4" id="text-7-3-1">
<p>
<a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/GSI.html">Amazon DynamoDB | Global Secondary Indexes</a>
</p>
</div>
</div>

<div id="outline-container-org411ab16" class="outline-4">
<h4 id="org411ab16"><span class="section-number-4">7.3.2</span> Local Secondary Indexes</h4>
<div class="outline-text-4" id="text-7-3-2">
<p>
<a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/LSI.html">Amazon DynamoDB | Local Secondary Indexes</a>
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgb5cf7b7" class="outline-2">
<h2 id="orgb5cf7b7"><span class="section-number-2">8</span> EBS</h2>
<div class="outline-text-2" id="text-8">
<p>
EBS is storage volumes that can be created and attached to EC2 instances. EBS volumes are automatically replicated to protected from failure.
</p>

<p>
<a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSVolumeTypes.html">EBS Volume Types</a>
</p>
</div>
</div>

<div id="outline-container-orgdc49592" class="outline-2">
<h2 id="orgdc49592"><span class="section-number-2">9</span> EC2</h2>
<div class="outline-text-2" id="text-9">
<p>
提供虚拟服务器（virtual server）。
</p>

<p>
服务器操作系统可以选择 Amazon 优化的发行版 Amazon Linux 或 Ubuntu 等。
</p>
</div>
</div>

<div id="outline-container-orgcd5bc28" class="outline-2">
<h2 id="orgcd5bc28"><span class="section-number-2">10</span> ELB</h2>
<div class="outline-text-2" id="text-10">
<p>
负载均衡服务，默认是高可用（highly available）的。
</p>
</div>
</div>

<div id="outline-container-org0a68cb4" class="outline-2">
<h2 id="org0a68cb4"><span class="section-number-2">11</span> IAM</h2>
<div class="outline-text-2" id="text-11">
<p>
AWS 默认不赋予服务任何权限，即服务之间无法交互，需要为每个服务提供权限。
</p>
</div>

<div id="outline-container-org26e720a" class="outline-3">
<h3 id="org26e720a"><span class="section-number-3">11.1</span> Users</h3>
<div class="outline-text-3" id="text-11-1">
<p>
Root 用户应当只用于创建其他用户。
</p>
</div>
</div>

<div id="outline-container-org82d054f" class="outline-3">
<h3 id="org82d054f"><span class="section-number-3">11.2</span> Policies</h3>
<div class="outline-text-3" id="text-11-2">
<p>
Policy 是定义用户权限的 JSON 文件。
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left"><code>AmazonDynamoDBFullAccess</code></th>
<th scope="col" class="org-left">&#xa0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>AmazonEC2FullAccess</code></td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><code>AmazonRDSFullAccess</code></td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><code>AmazonS3FullAccess</code></td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><code>CloudWatchFullAccess</code></td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><code>IAMFullAccess</code></td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-orge13272a" class="outline-2">
<h2 id="orge13272a"><span class="section-number-2">12</span> Lambda</h2>
<div class="outline-text-2" id="text-12">
<p>
<a href="https://aws.amazon.com/lambda/">AWS Lambda</a>
</p>


<div class="figure">
<p><img src="../images/amazon_web_services/02.png" alt="02.png" />
</p>
</div>
</div>

<div id="outline-container-org48caace" class="outline-3">
<h3 id="org48caace"><span class="section-number-3">12.1</span> Event Sources</h3>
<div class="outline-text-3" id="text-12-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" class="no-border">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left"><b>S3</b></th>
<th scope="col" class="org-left">e.g. file uploaded</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><b>CloudWatch</b></td>
<td class="org-left">e.g. EC2 instance launched</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><b>API Gateway</b></td>
<td class="org-left">e.g. HTTP request</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org2770a49" class="outline-3">
<h3 id="org2770a49"><span class="section-number-3">12.2</span> Best Practices</h3>
<div class="outline-text-3" id="text-12-2">
<p>
<a href="https://docs.aws.amazon.com/lambda/latest/dg/best-practices.html">AWS Lambda | Best Practices</a>
</p>

<p>
Take advantage of Execution Context reuse to improve performance. Make sure externalized configuration and dependencies are stored and referenced locally after initial execution. Limit the re-initialization of variables/objects on every invocation. Instead use static initialization/constructor, global/static variables and singletons. Keep alive and reuse connections (HTTP, database, etc.) that were established during a previous invocation.
</p>
</div>
</div>

<div id="outline-container-org8d8d1fd" class="outline-3">
<h3 id="org8d8d1fd"><span class="section-number-3">12.3</span> Debug</h3>
<div class="outline-text-3" id="text-12-3">
<p>
Lambda 函数执行时向 CloudWatch 写入日志，可以用于 debug。
</p>
</div>
</div>
</div>

<div id="outline-container-org359ae4e" class="outline-2">
<h2 id="org359ae4e"><span class="section-number-2">13</span> RDS</h2>
<div class="outline-text-2" id="text-13">
<ul class="org-ul">
<li>支持 MySQL、PostgreSQL、SQL Server、Oracle 等。</li>
<li>自动进行备份、升级等工作。</li>
</ul>
</div>
</div>

<div id="outline-container-orgb4417a7" class="outline-2">
<h2 id="orgb4417a7"><span class="section-number-2">14</span> S3</h2>
<div class="outline-text-2" id="text-14">
<ul class="org-ul">
<li>S3 支持服务器端加密，如 AES-256。</li>
<li>S3 支持保存文件的多个版本（revision）。</li>
</ul>
</div>

<div id="outline-container-org301dba9" class="outline-3">
<h3 id="org301dba9"><span class="section-number-3">14.1</span> Bucket</h3>
<div class="outline-text-3" id="text-14-1">
<p>
Bucket 名全局唯一，一般使用域名倒叙，如 <code>com.company.domain</code> 。
</p>
</div>
</div>
</div>

<div id="outline-container-orgb57bbee" class="outline-2">
<h2 id="orgb57bbee"><span class="section-number-2">15</span> Security Groups</h2>
<div class="outline-text-2" id="text-15">
<p>
用于控制网络流量（traffic）的服务，类似防火墙，可以附加到其他服务如 EC2、ELB、RDS 上。
</p>

<p>
对于 EC2 实例，AWS 默认禁止接收和发送任何流量。
</p>

<p>
示例：
</p>

<ul class="org-ul">
<li>配置负载均衡器只开放 80 端口（接受外网请求）。</li>
<li>Web 服务器只开放 80 端口（接受负载均衡器的请求）和 22 端口（用于 SSH 连接）。</li>
<li>RDS（MySQL）只开放 3306 端口（接受 web 服务器请求）。</li>
</ul>
</div>
</div>

<div id="outline-container-org50ff128" class="outline-2">
<h2 id="org50ff128"><span class="section-number-2">16</span> VPC</h2>
<div class="outline-text-2" id="text-16">
<p>
A VPC (Virtual Private Cloud) is an isolated area of AWS account that has its own virtual network and IP address space. A VPC is partitioned into one or more subnets, each which has its own IP addresses.
</p>

<p>
A Default VPC is part of every new AWS account. The subnets in the Default VPC are all public subnets.
</p>

<p>
About every AWS resource deploys into a VPC. If not explicitly specified (by VPC ID or subnet ID), the resource will be deployed into the Default VPC.
</p>

<p>
For production systems, all servers and data stores should be deployed in private subnets, which have IP addresses that can only be accessed from inside the VPC. The only servers to run in public subnets are a small number of reverse proxies and load balancers.
</p>
</div>
</div>

<div id="outline-container-orga324e95" class="outline-2">
<h2 id="orga324e95"><span class="section-number-2">17</span> 管理</h2>
<div class="outline-text-2" id="text-17">
</div><div id="outline-container-org89a096f" class="outline-3">
<h3 id="org89a096f"><span class="section-number-3">17.1</span> Tag</h3>
<div class="outline-text-3" id="text-17-1">
<p>
键值对，用于为架构中的组件附加信息，比如区分测试和生产资源，或标记资源属于多个应用中的某一个。
</p>
</div>
</div>

<div id="outline-container-org960c55d" class="outline-3">
<h3 id="org960c55d"><span class="section-number-3">17.2</span> Resource Group</h3>
<div class="outline-text-3" id="text-17-2">
<p>
「资源」包括 EC2 服务器、RDS 数据库、安全组等。
</p>
</div>
</div>
</div>
<div id="outline-container-org04c20c4" class="outline-2">
<h2 id="org04c20c4"><span class="section-number-2">18</span> 链接</h2>
<div class="outline-text-2" id="text-18">
<ol class="org-ol">
<li><a href="https://docs.aws.amazon.com/cli/latest/reference/">AWS CLI Reference</a></li>
<li><a href="https://aws.amazon.com/whitepapers/">AWS Whitepapers</a></li>
</ol>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Victor Chen</p>
<p class="date">Created: 2019-09-01 Sun 16:42</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
